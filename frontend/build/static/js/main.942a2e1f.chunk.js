(window.webpackJsonpManantial=window.webpackJsonpManantial||[]).push([[0],{156:function(e,t,a){},157:function(e,t,a){},160:function(e){e.exports=JSON.parse('{"onLoginFail":{"es":"Nombre de usuario y/o contrase\xf1a no coinciden."},"User":{"es":"Usuario"},"Username":{"es":"Nombre de usuario"},"Email Address":{"es":"Correo Electronico"},"First Name":{"es":"Nombre"},"Last Name":{"es":"Apellido"},"City":{"es":"Ciudad"},"Country":{"es":"Pais"},"Postal Code":{"es":"Codigo postal"},"Full Name":{"es":"Nombre Completo"},"Type":{"es":"Tipo"},"Phone":{"es":"Telefono"},"Profile":{"es":"Perfil"},"Fill the Form":{"es":"Rellena el formulario"},"Save":{"es":"Guardar"},"Saved":{"es":"Guardado"},"Sucess":{"es":"La Modificacion ha sido completada"},"Password":{"es":"Contrase\xf1a"},"Validate Password":{"es":"Verificar contrase\xf1a"},"Check Password":{"es":"Las contrase\xf1as no coinciden"},"Existing Mail":{"es":"Este correo ya existe"},"Type is required":{"es":"Tipo es obligatorio"},"Photo is required":{"es":"La fotografia es obligatoria"},"Has Access":{"es":"Con Acceso"},"Has not Access":{"es":"Sin Acceso"},"Give Password":{"es":"\xbfDeseas asignar al perfil una contrase\xf1a?"},"Edit Password":{"es":"\xbfDeseas editar la contrase\xf1a?"},"Yes, Please":{"es":"Si, por favor!"},"No, Thanks":{"es":"No, Gracias!"},"Empty":{"es":"Vacio"},"":{"es":"Esto no deberia estar vacio"},"Assign the permissions":{"es":"Asigna los permisos"},"Delete the profile":{"es":"Eliminar el perfil"},"personID":{"es":"Identificador Personal"},"houseCode":{"es":"Codigo de vivienda"},"total":{"es":"Total"},"income":{"es":"Ingresos"},"expenses":{"es":"Egresos"},"maintenance":{"es":"Mantenimiento"},"payment":{"es":"Pago"},"agreement":{"es":"Convenio"},"recharge":{"es":"Recargos"},"maintenance fees":{"es":"Cuotas de mantenimiento"},"day":{"es":"d\xedas"},"month":{"es":"meses"},"all":{"es":"Global"},"one":{"es":"Individual"},"unitary":{"es":"Unitario"},"meters":{"es":"Por metros"}}')},161:function(e,t,a){e.exports=a.p+"static/media/user-silhouette.56902ef6.svg"},166:function(e,t,a){e.exports=a.p+"static/media/accessDenied.c09612c0.mp3"},167:function(e,t,a){e.exports=a.p+"static/media/wait.ae3241fc.mp3"},168:function(e,t,a){e.exports=a.p+"static/media/help.301e951b.mp3"},169:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.310509c9.jpg"},5449:function(e,t,a){e.exports=a(5623)},5454:function(e,t,a){},5457:function(e,t,a){},5515:function(e,t,a){},5516:function(e,t,a){},5530:function(e,t,a){},5572:function(e,t,a){},5573:function(e,t,a){},5580:function(e,t,a){},5581:function(e,t,a){},5583:function(e,t,a){},5584:function(e,t,a){},5589:function(e,t,a){},5596:function(e,t,a){},5597:function(e,t,a){},5598:function(e,t,a){},5599:function(e,t,a){},5600:function(e,t,a){},5602:function(e,t,a){},5603:function(e,t,a){},5604:function(e,t,a){},5605:function(e,t,a){},5606:function(e,t,a){},5615:function(e,t,a){},5618:function(e,t,a){},5623:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),i=a.n(o),c=a(43),s=a(5626),l=a(5627),u=a(171),p=(a(5454),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var m=a(16),h=a(1),f=a.n(h),b=a(5),v=a(2),g=a(3),y=a(8),O=a(6),x=a(39),E=a(7),j=a(5624),w=(a(5456),a(12)),k=a.n(w),S=a(10),C=a(29),P=a(13),D=a.n(P),N=a(91),I=a.n(N),F=a(92),T=a.n(F),A=a(22),z=a.n(A),R=a(35),H=a.n(R),L=a(93),M=a.n(L);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},W={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},q={boxShadow:"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)"},$={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},V={boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"},G=U({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),J=U({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),Q=U({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),X=U({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),Y=U({background:"linear-gradient(60deg, #007777, #007733)"},V),K=U({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),Z=(U({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},$),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),ee={color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}};U({},ee,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":U({},ee,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})});function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=function(e){return{buttonLink:Object(S.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(S.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:"#a9afbb",marginRight:"15px"}),linkText:ae({zIndex:"4"},$,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(S.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),pooperNav:Object(S.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"none !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba(0, 0, 0, 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#fff",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:ae({},$,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:"#333",whiteSpace:"nowrap",height:"unset","&:hover":ae({backgroundColor:"#007733",color:"#FFFFFF"},V)})}};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=function(e){var t,a,n;return oe({},ne(e),{search:Object(S.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFFFFF"}}),linkText:oe({zIndex:"4"},$,{fontSize:"14px",margin:"0px"}),buttonLink:Object(S.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(S.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(S.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:"#f44336",color:"#FFFFFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(S.a)(t,e.breakpoints.down("sm"),oe({},$,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(S.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(S.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(S.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(S.a)(n,"display","inline-block"),n)})},ce=(a(5457),function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.iconName,a=Object(m.a)(e,["iconName"]);return r.a.createElement("i",Object.assign({className:"fa ".concat(t)},a))}}]),t}(n.Component)),se=a(56),le=a.n(se),ue=a(52),pe=a.n(ue);var de=k()({grid:{margin:"0 -15px !important",width:"unset"}})((function(e){var t=e.classes,a=e.children,n=Object(m.a)(e,["classes","children"]),o="".concat(t.grid," ").concat(e.className);return r.a.createElement(pe.a,Object.assign({container:!0},n,{className:o}),a)}));var me=k()({grid:{padding:"0 15px !important"}})((function(e){var t=Object(C.a)({},e),a=t.classes,n=t.children,o=Object(m.a)(t,["classes","children"]);return r.a.createElement(pe.a,Object.assign({item:!0},o,{className:a.grid}),n)})),he=(a(5515),a(11)),fe=a(90),be=a.n(fe),ve=a(160),ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(v.a)(this,e),this.language="es",this.name=t}return Object(g.a)(e,[{key:"get",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.language,t=this.name,a=ve[t];return a?a[e]:t}},{key:"setname",value:function(e){return this.name=e,this}}]),e}(),ye={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba(0, 0, 0, 0.87)",background:"#fff",width:"100%",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var Oe=k()(ye)((function(e){var t,a=Object(C.a)({},e),n=a.classes,o=a.className,i=a.children,c=a.plain,s=a.profile,l=a.chart,u=Object(m.a)(a,["classes","className","children","plain","profile","chart"]),p=D()((t={},Object(S.a)(t,n.card,!0),Object(S.a)(t,n.cardPlain,c),Object(S.a)(t,n.cardProfile,s),Object(S.a)(t,n.cardChart,l),Object(S.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:p},u),i)}));function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFFFFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Ee({},G)},successCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Ee({},J)},dangerCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Ee({},Q)},infoCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Ee({},X)},primaryCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Ee({},Y)},roseCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Ee({},K)}};var we=k()(je)((function(e){var t,a=Object(C.a)({},e),n=a.classes,o=a.className,i=a.children,c=a.color,s=a.plain,l=a.stats,u=a.icon,p=Object(m.a)(a,["classes","className","children","color","plain","stats","icon"]),d=D()((t={},Object(S.a)(t,n.cardHeader,!0),Object(S.a)(t,n[c+"CardHeader"],c),Object(S.a)(t,n.cardHeaderPlain,s),Object(S.a)(t,n.cardHeaderStats,l),Object(S.a)(t,n.cardHeaderIcon,u),Object(S.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:d},p),i)})),ke={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};var Se=k()(ke)((function(e){var t,a=Object(C.a)({},e),n=a.classes,o=a.className,i=a.children,c=a.plain,s=a.style,l=a.profile,u=Object(m.a)(a,["classes","className","children","plain","style","profile"]),p=D()((t={},Object(S.a)(t,n.cardBody,!0),Object(S.a)(t,n.cardBodyPlain,c),Object(S.a)(t,n.cardBodyProfile,l),Object(S.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:p,style:s},u),i)})),Ce={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid #eee",marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid #eee"}};var Pe=k()(Ce)((function(e){var t,a=Object(C.a)({},e),n=a.classes,o=a.className,i=a.children,c=a.plain,s=a.profile,l=a.stats,u=a.chart,p=Object(m.a)(a,["classes","className","children","plain","profile","stats","chart"]),d=D()((t={},Object(S.a)(t,n.cardFooter,!0),Object(S.a)(t,n.cardFooterPlain,c),Object(S.a)(t,n.cardFooterProfile,s),Object(S.a)(t,n.cardFooterStats,l),Object(S.a)(t,n.cardFooterChart,u),Object(S.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:d},p),i)}));a(5516);function De(e){var t=e.conditional,a=e.or,n=e.children;return t?r.a.createElement(r.a.Fragment,null,n):a||null}var Ne=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={currentSize:0},a.resizeHandler=function(){var e=a.refs.container.clientWidth;a.setState({currentSize:e})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.container.clientWidth;this.setState({currentSize:e}),window.addEventListener("resize",this.resizeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler)}},{key:"render",value:function(){var e=this.props,t=e.maxSize,a=void 0===t?1/0:t,n=e.minSize,o=void 0===n?0:n,i=e.children,c=this.state.currentSize;return r.a.createElement("main",{ref:"container"},r.a.createElement(De,{conditional:a>c&&o<c},i))}}]),t}(n.Component);function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Te(e){var t=e.children,a=e.icon,n=e.onClick,o=e.size,i=e.background,c=e.style,s=Object(m.a)(e,["children","icon","onClick","size","background","style"]);return r.a.createElement(z.a,Object.assign({},s,{"aria-label":a,size:"small",onClick:n,style:{background:i}}),r.a.createElement(ce,{iconName:"fa-".concat(a),style:Fe({fontSize:o},c)},r.a.createElement("span",null,t)))}var Ae=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.subtitle,n=e.footer,o=e.onAdd,i=e.icon;return r.a.createElement(Oe,null,r.a.createElement(Ne,{minSize:600},r.a.createElement(we,{color:"primary"},r.a.createElement(De,{conditional:o},r.a.createElement("div",{style:{float:"right"}},r.a.createElement(Te,{icon:i||"plus",style:{color:"white"},onClick:o,size:"2rem","aria-label":"A\xf1adir"}))),r.a.createElement("h4",{className:"cardTitleWhite",style:{textTransform:"capitalize"}},new ge(t).get()),r.a.createElement("p",{className:"cardCategoryWhite"},new ge(a).get()))),r.a.createElement(Ne,{maxSize:600},r.a.createElement("h5",{style:{textAlign:"center",fontWeight:"bolder"}},new ge(t).get(),r.a.createElement(De,{conditional:o},r.a.createElement(Te,{icon:"plus",onClick:o,size:"1rem"})))),r.a.createElement(Se,{className:"cardBody"},r.a.createElement(de,{justify:"center",alignContent:"center"},this.props.children)),r.a.createElement(Pe,null,n))}}]),t}(r.a.Component);function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Re=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,[{key:"objectToSerialize",value:function(e){if(!e)return"";var t=Object.keys(e),a=[];for(var n in t){var r="object"===typeof e[t[n]]?JSON.stringify(e[t[n]]):e[t[n]];a.push(t[n]+"="+r)}return a.join("&")}},{key:"inputsToObject",value:function(e){for(var t=e.querySelectorAll("input,select,textarea"),a=0,n={};a<t.length;++a){if(!t[a].checkValidity())return t[a].value="",t[a].placeholder="Faltante",!1;var r,o=t[a];if(""!==o.name&&""!==o.value){if("file"===o.type)r=o.files;else if("checkbox"===o.type)r=o.checked;else if("radio"===o.type){if(!1===o.checked)continue;r=o.value}else r=o.value.replace(/,/,"."),r=encodeURIComponent(r);if(void 0!==o&&"object"===typeof o){if(!t[a].checkValidity())return!1;if(void 0===n[o.name])n[o.name]=r;else if("object"===typeof n[o.name])n[o.name].push(r);else{var i=n[o.name];n[o.name]=[],n[o.name].push(i),n[o.name].push(r)}}}}return n}},{key:"error",value:function(e){throw document.body.innerHTML=e.responseText,e}},{key:"removeBySelector",value:function(e){for(var t=document.querySelectorAll(e),a=0;a<t.length;++a){var n=t[a];n.parentElement.removeChild(n)}}},{key:"decodeUriObject",value:function(e){var t={};for(var a in e)t[a]=decodeURI(e[a]);return t}},{key:"findInArrayOfObjects",value:function(e,t,a){for(var n in e){var r=e[n];if(r[t]===a)return r}}},{key:"fileTo64",value:function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e,a){t.onload=e,t.onerror=a}))}},{key:"fileToImage",value:function(e,t){return this.fileTo64(e).then((function(t){var a=document.createElement("img");return a.src=t.target.result,new Promise((function(t,n){t({img:a,file:e})}))}))}},{key:"getBodyToken",value:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")}},{key:"merge",value:function(){for(var e={},t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r in a){var o=a[r];for(var i in o)""!==o[i]&&(e[i]=o[i])}return e}},{key:"searchAndDestroy",value:function(e,t,a){return e.filter((function(e,n){return e[t]!==a}))}},{key:"searchAndInsert",value:function(e,t,a,n,r){return e.map((function(e,o){return e[t]===a&&(e[n]=r),e}))}},{key:"searchByKey",value:function(e,t,a){if(void 0===a)return[];var n=(a="".concat(a)).split(/,/);return e.filter((function(e,a){for(var r in n){var o=n[r];if(e[t]==o)return!0}return!1}))}},{key:"searchInObject",value:function(e,t){return e.filter((function(e,a){for(var n in e)if(null!=e[n]){var r=e[n].toString(),o=RegExp(t,"i");if(null!==r.match(o))return!0}return!1}))}},{key:"getObjectTitles",value:function(e){var t=[];for(var a in e)t.push({key:a});return t}},{key:"flatMultilevel",value:function(e){var t={};for(var a in e){var n=e[a];t[a]=n,t=this.merge(t,n)}return t}},{key:"searchAndGetIndex",value:function(e,t,a){for(var n in e){if(e[n][t]===a)return n}return-1}},{key:"searchCommonAndUpdate",value:function(e,t,a){var n=this.flatMultilevel(t),r=this.searchAndGetIndex(a,"id",e);for(var o in n)a[r][o]=void 0!==a[r][o]?a[r][o]:n[o];return a}},{key:"splitOnUpperCase",value:function(e){return(e=e.split(/(?=[A-Z])/)).join(" ")}},{key:"lastItem",value:function(e){return e[e.length-1]}},{key:"orderBy",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return(e=this.cloneArray(e)).sort((function(e,n){return null===e[t]?1:null===n[t]?1:"string"===typeof e[t]?"asc"===a?e[t].localeCompare(n[t]):n[t].localeCompare(e[t]):"asc"===a?e[t]-n[t]:n[t]-e[t]}))}},{key:"cloneArray",value:function(e){return e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),e=Object.values(e)}},{key:"dateToYears",value:function(e){var t=new Date,a=new Date(e),n=new Date(t-a);return Math.abs(n.getUTCFullYear()-1970)}},{key:"getTimePassed",value:function(e){var t=(new Date-new Date(e))/1e3/3600/24,a=24*(t-Math.floor(t)),n=Math.ceil(60*(a-Math.floor(a)));return{days:Math.floor(t),hours:Math.floor(a),mins:Math.floor(n)}}},{key:"pathSlicer",value:function(e){var t=this.lastItem(e.split(/\//)),a=this.lastItem(t.split(/\./)),n=e.replace(t,"");return{fileName:t,ext:a,folder:n=n.replace(/\/\//,"/")}}},{key:"isJsonString",value:function(e){try{return JSON.parse(e)}catch(t){return!1}}},{key:"compareArrays",value:function(e,t){var a,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e&&t)return e.forEach((function(e,o){return t.forEach((function(t){var o=e;r&&(o=e[r]),a=e.length>1&&t.length?n.compareArrays(e,t):o===t}))})),a}},{key:"keylogger",value:function(e){var t="",a=function(a){if("undefined"===typeof(t=a.key))return"";t=t.replace(/AltGraph/,"{"),e(t)};return document.body.addEventListener("keydown",a),{killItWithFire:function(){return document.body.removeEventListener("keydown",a)}}}}]),e}();function He(e){return"function"===typeof e?e:function(){}}function Le(e){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"MXN"});return e=Math.abs(e),t.format(e)}function Me(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Audio(t),e.abrupt("return",a.play());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(e?new Date(e):new Date).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(e?new Date(e):new Date).toISOString().substring(0,10)}var We=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"fetchData",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,o,i,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:"get",r=c.length>3&&void 0!==c[3]?c[3]:{"Content-Type":"application/x-www-form-urlencoded"},e.next=5,this._fetch(t,a,n,r);case 5:return o=e.sent,e.next=8,o.text();case 8:return i=e.sent,e.prev=9,e.abrupt("return",JSON.parse(i));case 13:return e.prev=13,e.t0=e.catch(9),console.log("Error en backend"),e.abrupt("return",{data:[]});case 17:case"end":return e.stop()}}),e,this,[[9,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFile",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded"},e.next=3,this._fetch(t,{},"get",a);case 3:return n=e.sent,e.next=6,n.blob();case 6:return(r=e.sent).lastModifiedDate=new Date,r.name=this.pathSlicer(t).fileName,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchHTML",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded"},e.next=3,this._fetch(t,{},"get",a);case 3:return n=e.sent,e.next=6,n.text();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=Object(b.a)(f.a.mark((function e(t,a,n,r){var o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.objectToSerialize(a),o={headers:r},"get"===n.toLowerCase()?(t+="?"+a,a=""):o.body=a,o.method=n,e.next=6,fetch(t,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),t}(Re),qe=a(19),$e=a.n(qe),Ve=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,[{key:"login",value:function(e){return this.hasError(e),e.expired=this.setExpirationDate(e.expires_in),localStorage.setItem(btoa("token"),btoa(JSON.stringify(e))),this}},{key:"hasError",value:function(e){if(e.data||(e.data={}),e.data.error){var t=new ge("onLoginFail").get();localStorage.removeItem(btoa("token")),$e()("Opps",t,"error")}}},{key:"setExpirationDate",value:function(e){var t=new Date;return t.setSeconds(t.getSeconds()+e),t}},{key:"onLoginExpire",value:function(){var e=this;return!!this.getToken()&&new Promise((function(t,a){var n=setInterval((function(){e.isLogged()||(t(),clearInterval(n))}),500)}))}},{key:"isExpired",value:function(){var e=this.getToken(),t=new Date(e.expired);return new Date>t}},{key:"getToken",value:function(){try{return JSON.parse(atob(localStorage.getItem(btoa("token"))))}catch(e){return null}}},{key:"isLogged",value:function(){return null!=this.getToken()&&!this.isExpired()}},{key:"hasPermission",value:function(e){var t=this.getToken().permissions;return(new Re).searchInObject(t,e).length>0}}]),e}(),Ge=function(e){function t(e){var a;Object(v.a)(this,t),a=Object(y.a)(this,Object(O.a)(t).call(this)),e=(e=e.replace(/\/api/,"api")).replace(/\/$/,"");var n=a.getToken();if(a.headers={"Content-Type":"application/x-www-form-urlencoded"},n){var r="Bearer ".concat(n.access_token);a.headers.Authorization=r}var o="localhost"===window.location.hostname?"http://127.0.0.1:8000":"https://api.elmanantialapp.com";return a.path=o+"/"+e,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"get",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this._fetch(t,"get");case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",this._fetch(t,"post"));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",this._fetch(t,"put"));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",this._fetch(t,"delete"));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"local",value:function(e){var t=this._setPath(e),a=localStorage.getItem(t);try{return JSON.parse(atob(a))}catch(n){return null}}},{key:"_setPath",value:function(e){var t=new Re,a=this.path+"?"+t.objectToSerialize(e);return btoa(a)}},{key:"_fetch",value:function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).fetchData(this.path,t,a,this.headers);case 2:return n=e.sent,this.hasError(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),t}(Ve),Je=a(17),Qe=a(53),Xe=a.n(Qe),Ye=a(68);a(5530);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var et=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleClose=function(){var e=a.props.onClose,t=!1;"function"===typeof e&&(t=e()||t),a.setState({open:t})},a.state={open:e.open||!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.open!==this.state.open&&this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.styles,a=e.disableCloseButton;return r.a.createElement(Je.g,{open:this.state.open,onClose:this.handleClose,className:"modalContainer"},r.a.createElement("div",{className:"modal",style:Ze({},t)},a?"":r.a.createElement(Xe.a,{size:"small",color:"secondary",className:"closeModal",onClick:this.handleClose},r.a.createElement(Ye.b,null)),this.props.children))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={loading:e.autoload},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"submit",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,o,i,c,s,l,u,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.props,n=a.willSubmit,r=a.path,o=a.submitted,i=(this.props.method?this.props.method:"get").toLowerCase(),c=new Ge(r),s=new Re,l=this.refs.ajaxForm,u=s.inputsToObject(l),"function"!==typeof n){e.next=11;break}if(!1!==(u=n(u,l))){e.next=11;break}return e.abrupt("return",!1);case 11:return e.next=13,c[i](u);case 13:if(void 0===(p=e.sent).details){e.next=17;break}return $e()("Opps",p.details,"error"),e.abrupt("return",!1);case 17:if(l.reset(),"function"!==typeof o){e.next=20;break}return e.abrupt("return",o(p,l));case 20:$e()(new ge("Saved").get(),new ge("Sucess").get(),"success");case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this.props.autoload;"undefined"!==typeof e&&!0!==e||this.fillForm()}},{key:"fillForm",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0});case 2:return t=new Ge(this.props.path),e.next=5,t.get();case 5:return a=e.sent,n=null,"function"===typeof this.props.getter&&"error"!==a.message&&(n=setTimeout((function(){r.props.getter(a),r.setState({loading:!1})}),600)),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("form",{onSubmit:this.submit.bind(this),ref:"ajaxForm",style:this.props.style},e?"cargando...":this.props.children,this.props.button?r.a.createElement("button",{type:"submit",className:"btn btn-success"},this.props.button):"")}}]),t}(n.Component),at=a(81),nt=a.n(at),rt=a(82),ot=a.n(rt),it=a(83),ct=a.n(it),st=a(84),lt=a.n(st),ut=a(85),pt=a.n(ut);function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var mt={disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"#D2D2D2 !important",borderWidth:"1px !important"},"&:after":{borderColor:"#007733"}},underlineError:{"&:after":{borderColor:"#f44336"}},underlineSuccess:{"&:after":{borderColor:"#4caf50"}},labelRoot:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},$,{color:"#717171 !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:"#f44336"},labelRootSuccess:{color:"#4caf50"},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative"}},ht=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={value:e.value||""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"onChange",value:function(e){var t,a=e.target.value;if(!0===this.props.readOnly)return!1;var n=this.props.onChange;"function"===typeof n&&(t=n(e)),a="string"===typeof t?t:a,this.setState({value:a})}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e,t,a=this.props,n=a.classes,o=a.formControlProps,i=a.labelText,c=a.id,s=a.labelProps,l=a.inputProps,u=a.error,p=a.success,d=D()((e={},Object(S.a)(e," "+n.labelRootError,u),Object(S.a)(e," "+n.labelRootSuccess,p&&!u),e)),m=D()((t={},Object(S.a)(t,n.underlineError,u),Object(S.a)(t,n.underlineSuccess,p&&!u),Object(S.a)(t,n.underline,!0),t)),h=D()(Object(S.a)({},n.marginTop,void 0===i));return r.a.createElement("main",null,r.a.createElement(nt.a,Object.assign({},o,{className:"".concat(o.className,"  ").concat(n.formControl," ").concat(this.props.className)}),void 0!==i?r.a.createElement(ot.a,Object.assign({className:n.labelRoot+d,htmlFor:c},s),new ge(i).get()):null,r.a.createElement(ct.a,Object.assign({classes:{root:h,disabled:n.disabled,underline:m},id:c,onChange:this.onChange.bind(this),onBlur:this.props.onBlur},l,{"aria-describedby":new ge(i).get(),value:this.state.value})),u?r.a.createElement(lt.a,{className:n.feedback+" "+n.labelRootError}):p?r.a.createElement(pt.a,{className:n.feedback+" "+n.labelRootSuccess}):null))}}]),t}(r.a.Component),ft=k()(mt)(ht),bt=a(36),vt=a.n(bt),gt=a(42),yt=a.n(gt),Ot=a(54),xt=a.n(Ot);function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).onInputChange=function(e,t){a.copies[t]=e},a.handleBlur=function(e){var t=a.props.onChange;"function"===typeof t&&t(a.copies)},a.copies=a.setCopies(e.value),a.state={copies:a.copies.length-1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"setCopies",value:function(e){return""===e||null==e?[""]:Array.isArray(e)?e:JSON.parse(e)}},{key:"addInput",value:function(e){this.setState({copies:this.state.copies+1})}},{key:"componentWillReceiveProps",value:function(e){e.value!=this.state.value&&(this.copies=this.setCopies(e.value),this.setState({copies:this.copies.length-1}))}},{key:"printInputs",value:function(){var e=this.state.copies,t=[];t.push(this.printFirstInput());for(var a=1;a<=e;++a)t.push(this.printBasicInput(a));return t}},{key:"printFirstInput",value:function(){var e=this,t=this.props,a=t.labelText,n=t.id,o=t.inputProps,i=t.formControlProps;return o.value=this.copies[0],r.a.createElement(ft,{key:0,labelText:a,id:n,value:this.copies[0],onChange:function(t){e.onInputChange(t.target.value,0)},onBlur:this.handleBlur,inputProps:jt({endAdornment:r.a.createElement(vt.a,{position:"end",onClick:this.addInput.bind(this)},r.a.createElement(Je.c,null,r.a.createElement(yt.a,null)))},o),formControlProps:i,onClick:this.addInput.bind(this)})}},{key:"printBasicInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this.props,n=a.labelText,o=a.id,i=a.inputProps,c=a.formControlProps;return i.value=this.copies[t],r.a.createElement(ft,{key:Math.random(),labelText:n,id:o,value:this.copies[t],onChange:function(a){e.onInputChange(a.target.value,t)},onBlur:this.handleBlur,inputProps:jt({endAdornment:r.a.createElement(vt.a,{position:"end",onClick:function(){e.killInput(t)}},r.a.createElement(Je.c,null,r.a.createElement(xt.a,null)))},i),formControlProps:c})}},{key:"killInput",value:function(e){var t=this.copies.filter((function(t,a){return a!==e}));this.copies=t,this.setState({copies:this.copies.length-1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.printInputs())}}]),t}(r.a.Component),kt=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"getFile",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Re,n=t.target.files[0],e.next=4,a.fileTo64(n);case 4:r=e.sent,o={title:n.name,size:n.size,type:n.type,b64:r.target.result},this.props.onFileSelection(o);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.name;return r.a.createElement("span",null,r.a.createElement("label",{htmlFor:e,color:"primary",className:"btn btn-success"},r.a.createElement(ce,{iconName:"fa-upload"})),r.a.createElement("input",{type:"file",name:e,id:e,onChange:this.getFile.bind(this),className:"hidden"}))}}]),t}(n.Component),St=function(){function e(t){var a=t.video,n=t.canvas;Object(v.a)(this,e),this.video=a,this.canvas=n,this.tracks=null}return Object(g.a)(e,[{key:"start",value:function(){var e=this,t=this.video;navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(a){t.srcObject=a,e.tracks=a.getTracks(),t.play()})).catch((function(e){console.log("An error occured! "+e)}))}},{key:"stop",value:function(){return null!=this.tracks&&(this.tracks.forEach((function(e){e.stop()})),!0)}},{key:"takePicture",value:function(e,t){var a=this.video,n=this.canvas,r=a.clientWidth/e;t=a.clientHeight/r;var o=n.getContext("2d");return n.width=e,n.height=t,o.drawImage(a,0,0,e,t),n.toDataURL("image/jpeg")}},{key:"prepareHtml",value:function(e){var t=document.createElement("video"),a=document.createElement("canvas"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div");return t.id="video",a.id="canvas",n.innerHTML='<i class="fa fa-camera"></i>',n.classList.add("btn"),n.classList.add("btn-success"),r.classList.add("camera"),r.appendChild(t),r.appendChild(n),o.appendChild(r),o.appendChild(a),e.insertAdjacentElement("afterbegin",o),{video:t,canvas:a,button:n,cameraDom:o}}}]),e}(),Ct=(a(5572),a(161)),Pt=a.n(Ct),Dt=function(){function e(){Object(v.a)(this,e),HTMLElement.prototype.isReadOnly=this.isReadOnly,HTMLElement.prototype.resetChildsInputs=this.resetChildsInputs,NodeList.prototype.tListener=this.listener,NodeList.prototype.setProp=this.setProp,HTMLElement.prototype.print=this.print}return Object(g.a)(e,[{key:"isReadOnly",value:function(e){var t=Object.getOwnPropertyDescriptor(this.__proto__,e);return void 0!==t&&void 0===t.set}},{key:"listener",value:function(e,t){for(var a=this,n=function(n){var r=a[n];r.addEventListener(e,(function(e){e.node=r,t(e)}))},r=0;r<this.length;++r)n(r)}},{key:"setProp",value:function(e,t){for(var a=0;a<this.length;++a){this[a][e]=t}}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.createElement("iframe");document.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.write(null!=this.body?this.body.innerHTML:this.innerHTML),t.contentWindow.document.close(),t.contentWindow.addEventListener("afterprint",(function(){setTimeout((function(){He(e)()}),1e3)})),window.setTimeout((function(e){t.contentWindow.print(),document.body.removeChild(t)}),500)}},{key:"resetChildsInputs",value:function(){for(var e=this.querySelectorAll("inputs,select,textarea"),t=0;t<e.length;++t)e[t].value=""}}]),e}();function Nt(e){return""!==e?e:Pt.a}function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(e=e.filter((function(e,t){return!a.includes(t)}))).join(t)}var Ft=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={autoStart:e.autoStart,photo:e.photo},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.photo!=this.state.photo){var t=e.photo;this.setState({photo:t})}}},{key:"componentDidMount",value:function(){1==this.state.autoStart&&(console.log("starting camera"),this.startCam())}},{key:"startCam",value:function(){this.camera=new St({video:this.refs.video,canvas:this.refs.canvas}),this.camera.start()}},{key:"showCam",value:function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({photo:null});case 2:this.startCam();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"takePic",value:function(){var e=this.camera.takePicture(600,450);this.setState({photo:e}),this.onPhotoTaken(e)}},{key:"getLocalPic",value:function(e){this.setState({photo:e.b64}),this.onPhotoTaken(e.b64)}},{key:"onPhotoTaken",value:function(e){this.camera.stop(),void 0!=this.props.onPhotoTaken&&this.props.onPhotoTaken(e)}},{key:"render",value:function(){var e=this.state.photo;return r.a.createElement("div",{className:"camera"},null==e?r.a.createElement("div",{ref:"cam"},r.a.createElement("video",{id:"video",ref:"video",style:{cursor:"url"}}),r.a.createElement(de,null,r.a.createElement(me,{xs:6},r.a.createElement(ce,{iconName:"fa-camera",onClick:this.takePic.bind(this)})),r.a.createElement(me,{xs:6},r.a.createElement(kt,{name:"imgFile",onFileSelection:this.getLocalPic.bind(this)})))):r.a.createElement("img",{src:Nt(e),alt:"cam content",onClick:this.showCam.bind(this)}),r.a.createElement("canvas",{id:"canvas",ref:"canvas",className:"hidden"}))}}]),t}(n.Component);a(156);function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function At(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zt(e){var t=e.title,a=e.value,o=e.onChange,i=e.type,c=e.className,s=e.onBlur,l=e.name,u=e.upperCase,p=Object(m.a)(e,["title","value","onChange","type","className","onBlur","name","upperCase"]),d=Object(n.useState)(a),h=Object(he.a)(d,2),f=h[0],b=h[1];return t=new ge(t).get(),r.a.createElement(ft,{labelText:t,value:f,onChange:function(e){b(u?e.target.value.toUpperCase():e.target.value),He(o)(e)},formControlProps:{fullWidth:!0},inputProps:At({type:i,className:c,onBlur:s,name:l},p)})}var Rt=a(57),Ht=a(172),Lt=(a(5573),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={value:e.value||"",error:!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"formatChildrenToOptions",value:function(e){var t=[];return e=e||[],(e=this._formatChildren(e)).map((function(e,a){var n=e.props;return void 0!=n&&(t.push({value:n.value,label:n.children}),t)})),t}},{key:"_formatChildren",value:function(e){var t=[];Array.isArray(e)||(e=[e]);var a=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;Array.isArray(c)?t=[].concat(Object(Rt.a)(t),Object(Rt.a)(c)):t.push(c)}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t}},{key:"getDefaultValue",value:function(e,t){return(new Re).searchByKey(t,"value",e)[0]||""}},{key:"onChange",value:function(e){var t=this.props.onChange;this.setState({value:e.value}),"function"==typeof t&&t(e)}},{key:"setRequired",value:function(e){var t=this.props.name||"GenericSelector",a=this.refs.selector.querySelector('[name="'.concat(t,'"]'));a.type="none",a.style.opacity="0",a.style.height="0px",a.style.position="absolute",a.style.top="0",a.required=e}},{key:"setValueOnProgramaticallyChange",value:function(){var e=this,t=this.props.name||"GenericSelector";this.refs.selector.querySelector('[name="'.concat(t,'"]')).addEventListener("change",(function(t){var a=e.props.onChange;e.setState({value:t.target.value}),"function"==typeof a&&a(t.target)}))}},{key:"componentWillUpdate",value:function(e){e.value!=this.state.value&&this.setState({value:e.value})}},{key:"componentDidMount",value:function(){this.setRequired(this.props.required),this.setValueOnProgramaticallyChange()}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.placeholder,n=e.title;t=t||"GenericSelector";var o=this.state.value||this.props.value;a=a||"Selecciona uno...";var i=this.formatChildrenToOptions(this.props.children);return o=this.getDefaultValue(o,i),r.a.createElement("div",{className:"form-group selector",ref:"selector"},r.a.createElement("label",{className:"control-label",htmlFor:t},n),r.a.createElement(Ht.a,{name:t,placeholder:a,id:t,value:o,onChange:this.onChange.bind(this),options:i}),this.state.error?r.a.createElement("span",{style:{color:"red"}},"Elemento Invalido"):"")}}]),t}(n.Component)),Mt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e)))._fillForm=function(e){setTimeout((function(){e.data.typeSelection=e.data.type,a.setState(e.data)}),300)},a.state={fullname:"",mails:"",phones:"",type:e.type||null,limitedAccess:(new Date).toISOString().substring(0,10),typeSelection:e.type||null,photo:null},a.photo=null,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"_willSubmit",value:function(e){if(e.phones=this._setToArray(e.phones),e.mails=this._setToArray(e.mails),e.plate=e.plate||"",e.type=e.type||this.state.type,!e.type)return $e()("Oops",new ge("Type is required").get(),"error"),!1;this.photo&&(e.photo=this.photo);var t=He(this.props.willSubmit)(e);return"undefined"!==typeof t&&(e=t),e}},{key:"_setToArray",value:function(e){return"object"===typeof e?e:[e]}},{key:"_afterSubmit",value:function(e,t){var a=this.props.submission;if("function"===typeof a)return a(e.data,t)}},{key:"componentWillUpdate",value:function(e){}},{key:"printType",value:function(){var e=this,t=this.state,a=t.type,n=t.typeSelection;return a?"":r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Lt,{key:new Date,title:"Tipo",name:"type",id:"Type",value:n,onChange:function(t){return e.setState({typeSelection:t.value}),t}},r.a.createElement("option",{value:"Empleado"},"Empleado"),r.a.createElement("option",{value:"Residente"},"Residente"),r.a.createElement("option",{value:"Propietario"},"Propietario"),r.a.createElement("option",{value:"Proveedor"},"Proveedor")))}},{key:"getDate",value:function(e){return(e?new Date(e):new Date).toISOString().substring(0,10)}},{key:"render",value:function(){var e=this,t=this.state,a=t.fullname,n=t.mails,o=t.phones,i=t.photo,c=t.limitedAccess,s=t.typeSelection,l=this.props.edit||"",u=this.props.edit?"put":"post";return r.a.createElement(tt,{autoload:""!=l,path:"/api/persons/".concat(l),method:u,willSubmit:this._willSubmit.bind(this),submitted:this._afterSubmit.bind(this),getter:this._fillForm},r.a.createElement(de,null,r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Ae,{title:"Profile",subtitle:"Fill the Form"},r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Ft,{autoStart:""==l,onPhotoTaken:function(t){e.photo=t,e.setState({photo:t})},photo:i})),this.printType(),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(ft,{onBlur:function(t){var a=t.target;e.setState({fullname:a.value})},labelText:"Full Name",id:"full-name",formControlProps:{fullWidth:!0},inputProps:{name:"fullname",required:!0,value:a},value:a})),r.a.createElement(me,{xs:12,sm:12,md:6},r.a.createElement(wt,{labelText:"Email Address",id:"email-address",value:n,onChange:function(t){e.setState({mails:JSON.stringify(t)})},inputProps:{name:"mails",type:"email"},formControlProps:{fullWidth:!0}})),r.a.createElement(me,{xs:12,sm:12,md:6},r.a.createElement(wt,{key:new Date,labelText:"Phone",id:"phone",value:o,onChange:function(t){e.setState({phones:JSON.stringify(t)})},inputProps:{name:"phones",type:"tel"},formControlProps:{fullWidth:!0}})),r.a.createElement(me,{xs:12},r.a.createElement(De,{conditional:"Proveedor"==s||"Invitado"==s},r.a.createElement(zt,{type:"date",name:"limitedAccess",title:"Fecha limite de acceso",value:this.getDate(c)}))),this.props.children,r.a.createElement(Je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))))}}]),t}(r.a.Component),Bt=(a(5580),a(165));function Ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ut(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ut(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Wt(e){var t=e.hash,a=e.style,o=void 0===a?{}:a,i=e.onSRCLoad,c=Object(n.useState)(""),s=Object(he.a)(c,2),l=s[0],u=s[1];return Object(n.useEffect)((function(){!function(e){var t=new Bt.a(0,"L"),a=document.createElement("div");t.addData(e),t.make(),a.insertAdjacentHTML("beforeEnd",t.createImgTag(10));var n=a.querySelector("img").src;u(n),He(i)(n)}(t)}),[t]),r.a.createElement("img",{key:t,alt:t,src:l,className:"qr",style:_t({width:"100%",height:"auto",margin:"auto"},o)})}var qt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).print=function(){new Dt,a.refs.qr.print()},a.state={data:e.data||"",src:""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.data)==this.state.data){e.next=4;break}return e.next=4,this.setState({data:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"qrContainer",style:this.props.style},r.a.createElement("div",{ref:"qr"},r.a.createElement(Wt,{hash:this.state.data,onSRCLoad:function(t){e.setState({src:t})},style:{maxWidth:"5.5cm",margin:"0 auto",display:"block"}})),r.a.createElement(de,null,r.a.createElement(me,{xs:4},r.a.createElement(Te,{icon:"redo",onClick:this.props.onReload})),r.a.createElement(me,{xs:4},r.a.createElement(z.a,{color:"primary","aria-label":"Download",variant:"contained"},r.a.createElement("a",{href:this.state.src,"aria-label":"Download",download:!0},r.a.createElement(ce,{iconName:"fa-download"})))),r.a.createElement(me,{xs:4},r.a.createElement(Te,{icon:"print",onClick:this.print}))))}}]),t}(n.Component);a(5581);function $t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$t(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$t(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(v.a)(this,e),this.id="",this.PATH="api/persons",this.id=t}return Object(g.a)(e,[{key:"setAccess",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Date,n=Vt({hasAccess:+e,limitedAccess:a.toISOString().substring(0,10)},t);return this.setRequest().put(n)}},{key:"get",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.setRequest().get(t),e.next=3,a;case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"by",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("".concat(this.PATH)),e.next=3,a.get(t);case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.setRequest().put(t),e.next=3,a;case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRequest",value:function(){return new Ge("".concat(this.PATH,"/").concat(this.id))}}]),e}(),Jt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={hasAccess:1===e.hasAccess,validity:e.expirationDate},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"handleAccess",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.checked,n=this.props.id,new Gt(n).setAccess(a),r=new Date,He(this.props.onChange)(r),r.setDate(r.getDate()+1),this.setState({hasAccess:a,validity:r});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canAccess",value:function(e,t){var a=new Date(e)-new Date;return null!=e&&t?a>0:t}},{key:"render",value:function(){var e=this.state,t=e.hasAccess,a=e.validity,n=this.canAccess(a,t),o=n?"Con Acceso":"Sin Acceso";return r.a.createElement(Je.b,{className:"customSwitch",control:r.a.createElement(Je.h,{onChange:this.handleAccess.bind(this),checked:n,color:"primary"}),label:o})}}]),t}(n.Component),Qt=a(55),Xt=a.n(Qt);function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Zt(e){var t=e.person,a=e.onTypeChange,o=Object(n.useState)(Kt({},t,{modal:!1})),i=Object(he.a)(o,2),c=i[0],s=i[1],l=function(){var e=Object(b.a)(f.a.mark((function e(n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Gt(t.id),o={type:n.value},e.next=4,r.set(Kt({limitedAccess:"Invitado"!==n.value?new Date(null).toISOString().substring(0,10):(new Date).toISOString().substring(0,10)},o));case 4:s(Kt({personData:c},o)),He(a)(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{onClick:function(){s(Kt({},c,{modal:!0}))},size:".8rem",icon:"sync-alt"}," ",c.type),r.a.createElement(et,{open:c.modal},r.a.createElement(Oe,{style:{width:"16rem",padding:"1rem"}},r.a.createElement("label",{for:"typeSelector"},"El usuario ",t.fullname," sera transferido al perfil:"),r.a.createElement(Lt,{name:"typeSelector",value:c.type,onChange:l},r.a.createElement("option",{value:"Residente"},"Residente"),r.a.createElement("option",{value:"Invitado"},"Invitado")))))}var ea=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"handlePermission",value:function(){var e=this.props.permission,t=e.permission,a=e.onPermissionPass,n=(new Ve).hasPermission(t);return n&&"function"===typeof a&&a(t),n}},{key:"render",value:function(){var e=this.props,t=e.permission,a=e.children,n=new Ve;return r.a.createElement(r.a.Fragment,null,n.hasPermission(t)?a:"")}}]),t}(n.Component),ta=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleClose=function(){a.setState({openQr:!1,hash:"",personID:null,modal:!1}),He(a.props.onClose)(a.props.code)},a.render=function(){var e=a.props.type,t=a.state,n=t.habitants,o=t.openQr,i=t.hash,c=t.personID,s=t.modal;return n=n.filter((function(t){return t.person.type==e})),r.a.createElement(Je.d,{style:{width:"80%"}},n.map((function(e,t){return r.a.createElement(Je.e,{key:t,divider:!0,style:{borderRadius:"9px",margin:"0px 3px"}},r.a.createElement(Je.f,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null,r.a.createElement(me,{xs:3},r.a.createElement(Xt.a,{alt:e.person.fullname,src:Nt(e.person.photo)})),r.a.createElement(me,{xs:9},r.a.createElement("span",{style:{paddingTop:"8px",textAlign:"center",display:"justify"}},e.person.fullname.toUpperCase())))),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.c,{color:"primary",onClick:function(){a.setState({openQr:!0,hash:e.person.hash,personID:e.personID})}},r.a.createElement(ce,{iconName:"fa-qrcode"})),r.a.createElement(Jt,{id:e.personID,hasAccess:e.person.hasAccess,expirationDate:e.person.limitedAccess}),r.a.createElement(ea,{permission:"usuarios"},r.a.createElement(Te,{key:e.id+"Fa",size:"12px",onClick:function(){a.setState({personID:e.personID,modal:!0})},icon:"edit"})),r.a.createElement(ea,{permission:"usuarios"},r.a.createElement(Zt,{person:e.person})),e.person.limitedAccess||"Vitalicia")}))})),r.a.createElement(et,{open:s,onClose:a.handleClose},r.a.createElement(Mt,{edit:c,type:e,submission:a.addResident.bind(Object(x.a)(a))})),r.a.createElement(et,{open:o,onClose:a.handleClose},r.a.createElement(qt,{data:JSON.stringify({h:i}),onReload:function(){a.reloadQr(c)}})))},a.state={habitants:[],openQr:!1,hash:"",personID:null,modal:e.modal},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadHabitants(this.props.code)}},{key:"componentWillReceiveProps",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.code,n=t.modal,a!=this.props.code&&this.loadHabitants(a),n!=this.props.modal&&this.setState({modal:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadHabitants",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/residents"),e.next=3,a.get({houseCode:t});case 3:n=e.sent.data,this.setState({habitants:n,modal:!1,personID:null});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addResident",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.onAddResident,""!=(n=this.props.code)){e.next=4;break}return e.abrupt("return",!1);case 4:if(null==this.state.personID){e.next=7;break}return this.loadHabitants(n),e.abrupt("return",!1);case 7:return r=new Ge("api/residents/"),e.next=10,r.post({houseCode:n,personID:t.id});case 10:this.loadHabitants(n),He(a)(n),this.handleClose();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadQr",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.code,n=new Ge("api/persons/".concat(t)),e.next=4,n.put({hash:!0});case 4:this.loadHabitants(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n.Component),aa=a(41),na=a.n(aa);a(5583);function ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ra(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ra(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ia=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={src:Nt(e.src)},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.src,t=this.props.type||"fullscreen",a=this.props.style,n="url(".concat(e,")");return r.a.createElement("div",{className:"image ".concat(t),style:oa({backgroundImage:n},a)})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.src!=t.src?{src:Nt(e.src)}:t}}]),t}(n.Component),ca=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"renderAnchorList",value:function(e,t){return""==e?null:((new Re).isJsonString(e)||[e]).map((function(e,a){return r.a.createElement(Je.e,{key:a},r.a.createElement("a",{"aria-label":t,href:"".concat(t,":").concat(e)},e))}))}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.items;return r.a.createElement(Je.d,{dense:!0},this.renderAnchorList(a,t))}}]),t}(n.Component),sa=(a(5584),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=a.props,t=e.children,n=e.icon,o=e.title;return r.a.createElement(de,{className:"iconList"},r.a.createElement(me,{xs:2},r.a.createElement(ce,{iconName:"fa-".concat(n)})),r.a.createElement(me,{xs:9},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"16px"}},o)),t))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"printList",value:function(){}}]),t}(n.Component)),la=a(31),ua=a.n(la),pa=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e)))._fillForm=function(e){a.setState(e.data)},a.render=function(){var e=a.state,t=e.id,n=e.email,o=""==!t||"undefined"!==typeof t;return 0==o?null:r.a.createElement(tt,{path:"/api/persons/".concat(t,"/user"),autoload:o,method:"post",willSubmit:a._willSubmit.bind(Object(x.a)(a)),submitted:a._afterSubmit.bind(Object(x.a)(a)),getter:a._fillForm},r.a.createElement(zt,{title:"Email Address",type:"email",name:"email",value:n}),r.a.createElement(zt,{title:"Password",type:"password",name:"password",value:""}),r.a.createElement(zt,{title:"Validate Password",type:"password",value:"",name:"checkPassword"}),r.a.createElement(ua.a,{type:"submit",size:"small",color:"primary",style:{float:"right"}},"Guardar",r.a.createElement(ce,{iconName:"fa-check-circle"})))},a.state={mailError:!1,email:"",password:"",profileID:"",id:e.id},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"_willSubmit",value:function(e){return e.password!==e.checkPassword?($e()("Oops",new ge("Check Password").get(),"error"),!1):e}},{key:"_setToArray",value:function(e){return"object"===typeof e?e:[e]}},{key:"_afterSubmit",value:function(e,t){var a=this.props.submission;if($e()("Success",new ge("Sucess").get(),"success"),"function"===typeof a)return a(e,t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.id!=t.id?{id:e.id}:t}}]),t}(n.Component),da=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).render=function(){var e=a.state,t=e.fullname,n=e.type,o=e.photo,i=e.hash,c=e.mails,s=e.phones,l=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{title:t,subtitle:n},r.a.createElement(me,{xs:12,sm:6,md:6,xl:3},r.a.createElement(H.a,{smUp:!0},r.a.createElement(qt,{onReload:function(){a.reloadQr(l)},data:JSON.stringify({h:i}),style:{margin:"100px auto"}})),r.a.createElement(H.a,{xsDown:!0},r.a.createElement(ia,{src:o,style:{height:"300px",width:"300px",maxWidth:"100%",margin:"0 auto"}}))),r.a.createElement(me,{xs:12,sm:6,md:6,xl:3},r.a.createElement(na.a,null,r.a.createElement(Je.e,null,r.a.createElement(sa,{icon:"user",title:"Nombre Completo"},t)),r.a.createElement(Je.e,null,r.a.createElement(sa,{icon:"mail-bulk",title:"Correos"},r.a.createElement(ca,{type:"mailto",items:c}))),r.a.createElement(Je.e,null,r.a.createElement(sa,{icon:"phone",title:"Tel\xe9fonos"},r.a.createElement(ca,{type:"tel",items:s}))))),r.a.createElement(me,{xs:12,sm:6,md:6,xl:3},r.a.createElement(pa,{id:l})),r.a.createElement(me,{xs:12,sm:6,md:6,xl:3},r.a.createElement(H.a,{xsDown:!0},r.a.createElement(qt,{onReload:function(){a.reloadQr(l)},data:JSON.stringify({h:i})})))))},a.state={fullname:"",type:"",hash:"",phones:"",mails:"",photo:""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"loadUser",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ve,a=t.getToken().personID,n=new Ge("/api/persons/".concat(a)),e.next=5,n.get();case 5:r=e.sent,this.setState(r.data);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reloadQr",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/persons/".concat(t)),e.next=3,a.put({hash:!0});case 3:n=e.sent,this.setState({hash:n.data.hash});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(r.a.Component);a(157),r.a.Component;function ma(e){var t=e.title,a=e.value,o=e.onClick,i=e.onChange,c=e.disableEnter,s=e.id,l=e.type,u=e.style,p=e.name,d=e.icon,m=e.className,h=e.onBlur,f=Object(n.useState)(a),b=Object(he.a)(f,2),v=b[0],g=b[1],y=function(){if("function"===typeof o)return o(v)};return r.a.createElement(ft,{labelText:t,value:v,onChange:function(e){var t=e.target.value;g(t),He(i)(e)},formControlProps:{fullWidth:!0},inputProps:{onKeyPress:function(e){if(c)return!1;"Enter"===e.key&&y()},id:s,type:l,style:u,name:p,endAdornment:r.a.createElement(vt.a,{onClick:y,position:"end"},r.a.createElement(z.a,{"aria-label":"Search"},d)),className:m,onBlur:h}})}var ha=a(86),fa=a.n(ha),ba=a(87),va=a.n(ba),ga=a(65),ya=a.n(ga),Oa=a(88),xa=a.n(Oa),Ea=a(66),ja=a.n(Ea);function wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sa=function(e){return{warningTableHeader:{color:"#ff9800"},primaryTableHeader:{color:"#007733"},dangerTableHeader:{color:"#f44336"},successTableHeader:{color:"#4caf50"},infoTableHeader:{color:"#00acc1"},roseTableHeader:{color:"#e91e63"},grayTableHeader:{color:"#999999"},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:ka({color:"inherit"},$,{fontSize:"1em"}),tableCell:ka({},$,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle"}),tableResponsive:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}}};a(5589);function Ca(e){var t=Object(C.a)({},e),a=t.classes,n=t.tableHead,o=t.tableData,i=t.tableHeaderColor;return r.a.createElement("div",{className:a.tableResponsive},r.a.createElement(fa.a,{className:a.table},void 0!==n?r.a.createElement(va.a,{className:a[i+"TableHeader"]},r.a.createElement(ya.a,null,n.map((function(e,t){return r.a.createElement(ja.a,{className:a.tableCell+" "+a.tableHeadCell,key:t},e)})))):null,r.a.createElement(xa.a,null,o.map((function(e,t){return r.a.createElement(ya.a,{key:t,className:"row"},e.map((function(e,t){return r.a.createElement(ja.a,{className:a.tableCell,key:t},e)})))})))))}Ca.defaultProps={tableHeaderColor:"gray"};var Pa=k()(Sa)(Ca),Da=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"printList",value:function(e){var t=[];for(var a in e)t.push(r.a.createElement("div",{key:Math.random()+a},r.a.createElement("h5",null,r.a.createElement("strong",null,new ge(a).get(),":")),r.a.createElement("div",{className:"content"},e[a])));return t}},{key:"render",value:function(){return r.a.createElement("div",null,this.printList(this.props.list))}}]),t}(n.Component);a(5596);function Na(e){var t=e.titles;return e.data.map((function(e,a){var n={};for(var o in t){n[t[o]]=e[o]}return r.a.createElement(Oe,{className:"verticalTable",key:"vertical"+a},r.a.createElement(Da,{list:n}))}))}var Ia=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={page:0,search:"",sort:{index:null,type:null}},a.pages=8,a.responsiveSize=600,a._setPage=function(e){window.scrollTo({top:0,behavior:"smooth"}),a.setState({page:e})},a.render=function(){var e=a.props,t=e.titles,n=e.data,o=e.search,i=a.state,c=i.page,s=i.sort,l=new Re,u=s.type?"asc":"desc",p=null===s.index?n:l.orderBy(n,s.index,u),d=a._setDataPerPage(p,8,c,o);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("i",null,"P\xe1gina Actual: ",c+1),r.a.createElement(Ne,{maxSize:a.responsiveSize},r.a.createElement("main",{style:{width:"100%",overflowY:"auto",background:"#fafafa",borderRadius:"9px"}},r.a.createElement(Na,{titles:t,data:d}))),r.a.createElement(Ne,{minSize:a.responsiveSize},r.a.createElement(Pa,{tableHeaderColor:"primary",tableHead:a.orderBy(t),tableData:d,className:"customTable"})),r.a.createElement("center",null,a._pageControl(a.pages,c))))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"_setDataPerPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(0==e.length)return[];var r=new Re,o=[];(o=r.searchInObject(e,n)).length<=0&&(o=r.searchInObject(e,n.replace(/ /g,"|"))),e=o,this.contentSize=e.length;for(var i=t*a,c=i+t,s=[],l=i;l<c;l++)"undefined"!==typeof e[l]&&s.push(e[l]);return s}},{key:"highlightWord",value:function(e,t){if(""==e)return t;var a=RegExp(e,"i"),n="\xab".concat(e,"\xbb");return t=t.map((function(e){return"string"===typeof e?e.replace(a,n):e}))}},{key:"_pageControl",value:function(e,t){var a=this,n=Math.ceil(this.contentSize/e),o=n>e?5:n,i=t-5,c=[];t>0&&c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,size:"small",key:"menos",onClick:function(){a._setPage(t-1)}},r.a.createElement(ce,{iconName:"fa-chevron-left"})));for(var s=function(e){if(e<0)return"continue";c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,key:e+"fab",size:"small",color:e==t?"primary":"default",onClick:function(){a._setPage(e)}},e+1))},l=i;l<t;l++)s(l);var u=function(e){var o=e+t;if(o>=n)return"continue";c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,size:"small",key:e,color:o==t?"primary":"default",onClick:function(){a._setPage(o)}},o+1))};for(l=0;l<o;l++)u(l);return t<n-1&&c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,key:"mas",size:"small",onClick:function(){a._setPage(t+1)}},r.a.createElement(ce,{iconName:"fa-chevron-right"}))),c}},{key:"orderBy",value:function(e){var t=this;return e.map((function(e,a){var n=t.state.sort,o=n.index,i=n.type,c="";return a==o&&(c=i?"-up":"-down"),r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("span",null,e),r.a.createElement(ua.a,{"aria-label":"Order "+c,size:"small",onClick:function(){t.setState({sort:{index:a,type:!i}})}},r.a.createElement(ce,{iconName:"fa-sort".concat(c)})))}))}}]),t}(n.Component),Fa=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={data:e.content,open:e.modalOpen||!1},a.contentSize=0,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t={};e.content!==this.state.data&&(t.data=e.content),e.modalOpen!==this.state.open&&(t.open=e.modalOpen),this.setState(t)}},{key:"toggleModal",value:function(e){this.setState({open:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.titles,o=t.inModal,i=t.title,c=t.subtitle,s=t.onClose,l=t.hideButton,u=Object(m.a)(t,["className","titles","inModal","title","subtitle","onClose","hideButton"]),p=this.state,d=p.data,h=p.open,f=p.search;return r.a.createElement("main",{className:a},r.a.createElement(Ae,{title:i,subtitle:c,onAdd:!l&&function(){e.setState({open:!0})}},r.a.createElement(me,{xs:12},r.a.createElement(ma,{title:"Buscar",value:"",icon:r.a.createElement(ce,{iconName:"fa-search"}),onClick:function(t){return e.setState({page:0,search:t}),""}})),this.props.prev,r.a.createElement(Ia,Object.assign({search:f,titles:n,data:d},u)),r.a.createElement(et,{onClose:s,open:h||!1},o),this.props.children))}}]),t}(n.Component),Ta=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={access:[]},a.loadAccess(),a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadAccess",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.by,n=t.value,e.next=3,this.setByType(a,n);case 3:r=(r=e.sent.data).map((function(e){return[e.fullname,e.inside?"Entrada":"Salida",new Date(e.updated.date).toLocaleDateString("es-MX",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})]})),this.setState({access:r});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setByType",value:function(e,t){var a,n="";switch(e){case"code":n="api/access/house/".concat(t),a=this.fetchAccess(n);break;case"person":n="api/access/",a=this.fetchAccess(n,{personID:t});break;default:n="api/access/",a=this.fetchAccess(n)}return a}},{key:"fetchAccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Ge(e);return a.get(t)}},{key:"render",value:function(){var e=this.state.access;return r.a.createElement(Fa,{hideButton:!0,title:"Accesos",subtitle:"Historial de accesos",titles:["Nombre","Estatus","Fecha"],content:e})}}]),t}(n.Component),Aa=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={code:"",openGuestModal:!1,hasPermission:!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"getCode",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Ve,a=t.getToken(),!1!==(n=t.hasPermission("invitados"))){e.next=5;break}return e.abrupt("return",n);case 5:return r=new Ge("api/houses"),e.next=8,r.get({ownerID:a.personID});case 8:if(!((o=e.sent).data.length<=0)){e.next=11;break}return e.abrupt("return",!1);case 11:return i="".concat(o.data[0].zone,"-").concat(o.data[0].houseNumber),this.setState({code:i}),e.abrupt("return","".concat(o.data[0].zone,"-").concat(o.data[0].houseNumber));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getCode()}},{key:"render",value:function(){var e=this,t=this.state,a=t.code,n=t.openGuestModal,o=(new Ve).getToken();return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null,r.a.createElement(me,{xs:12,lg:12},r.a.createElement(da,null),r.a.createElement(ea,{permission:"invitados"},r.a.createElement(de,null,r.a.createElement(me,{xs:12,lg:6},r.a.createElement(Ae,{title:"Habitantes",subtitle:" "},r.a.createElement(ta,{code:a,modal:!1,type:"Residente"}))),r.a.createElement(me,{xs:12,lg:6},r.a.createElement(Ae,{title:"Invitados",subtitle:" ",onAdd:function(){e.setState({openGuestModal:!0})}},r.a.createElement(ta,{code:a,modal:n,type:"Invitado",onClose:function(){e.setState({openGuestModal:!1})}})))))),r.a.createElement(me,{xs:12,lg:12},r.a.createElement(Ta,{by:"person",value:o.personID}))))}}]),t}(n.Component);function za(e){var t=e.hash,a=e.name,o=e.date,i=e.details,c=e.onPrint,s=Object(n.useRef)(null);return r.a.createElement("div",{className:"ticket",ref:s},r.a.createElement(Wt,{hash:t,onSRCLoad:function(){!function(){new Dt;var e=s.current;setTimeout((function(){e.print(c)}),500)}()}}),r.a.createElement("center",null,r.a.createElement("p",{style:{fontSize:"10px"}},"Nombre:",a),r.a.createElement("p",{style:{fontSize:"10px"}},"Fecha:",o),r.a.createElement("strong",{style:{fontSize:"10px"}},i)))}var Ra=a(89),Ha=a.n(Ra),La={button:{minHeight:"auto",minWidth:"auto",backgroundColor:"#999999",color:"#FFFFFF",boxShadow:"0 2px 2px 0 rgba(153, 153, 153, 0.14), 0 3px 1px -2px rgba(153, 153, 153, 0.2), 0 1px 5px 0 rgba(153, 153, 153, 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFFFFF",backgroundColor:"#999999",boxShadow:"0 14px 26px -12px rgba(153, 153, 153, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(153, 153, 153, 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFFFFF",color:"#999999"}},rose:{backgroundColor:"#e91e63",boxShadow:"0 2px 2px 0 rgba(233, 30, 99, 0.14), 0 3px 1px -2px rgba(233, 30, 99, 0.2), 0 1px 5px 0 rgba(233, 30, 99, 0.12)","&:hover,&:focus":{backgroundColor:"#e91e63",boxShadow:"0 14px 26px -12px rgba(233, 30, 99, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(233, 30, 99, 0.2)"}},primary:{backgroundColor:"#007733",boxShadow:"0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12)","&:hover,&:focus":{backgroundColor:"#007733",boxShadow:"0 14px 26px -12px rgba(156, 39, 176, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(156, 39, 176, 0.2)"}},info:{backgroundColor:"#00acc1",boxShadow:"0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12)","&:hover,&:focus":{backgroundColor:"#00acc1",boxShadow:"0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2)"}},success:{backgroundColor:"#4caf50",boxShadow:"0 2px 2px 0 rgba(76, 175, 80, 0.14), 0 3px 1px -2px rgba(76, 175, 80, 0.2), 0 1px 5px 0 rgba(76, 175, 80, 0.12)","&:hover,&:focus":{backgroundColor:"#4caf50",boxShadow:"0 14px 26px -12px rgba(76, 175, 80, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(76, 175, 80, 0.2)"}},warning:{backgroundColor:"#ff9800",boxShadow:"0 2px 2px 0 rgba(255, 152, 0, 0.14), 0 3px 1px -2px rgba(255, 152, 0, 0.2), 0 1px 5px 0 rgba(255, 152, 0, 0.12)","&:hover,&:focus":{backgroundColor:"#ff9800",boxShadow:"0 14px 26px -12px rgba(255, 152, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(255, 152, 0, 0.2)"}},danger:{backgroundColor:"#f44336",boxShadow:"0 2px 2px 0 rgba(244, 67, 54, 0.14), 0 3px 1px -2px rgba(244, 67, 54, 0.2), 0 1px 5px 0 rgba(244, 67, 54, 0.12)","&:hover,&:focus":{backgroundColor:"#f44336",boxShadow:"0 14px 26px -12px rgba(244, 67, 54, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(244, 67, 54, 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFFFFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:"#e91e63"}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:"#007733"}},"&$info":{"&,&:focus,&:hover,&:visited":{color:"#00acc1"}},"&$success":{"&,&:focus,&:hover,&:visited":{color:"#4caf50"}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:"#ff9800"}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:"#f44336"}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:"#999999",boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var Ma=k()(La)((function(e){var t,a=Object(C.a)({},e),n=a.classes,o=a.color,i=a.round,c=a.children,s=a.disabled,l=a.simple,u=a.size,p=a.block,d=a.link,h=a.justIcon,f=a.className,b=a.muiClasses,v=Object(m.a)(a,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),g=D()((t={},Object(S.a)(t,n.button,!0),Object(S.a)(t,n[u],u),Object(S.a)(t,n[o],o),Object(S.a)(t,n.round,i),Object(S.a)(t,n.disabled,s),Object(S.a)(t,n.simple,l),Object(S.a)(t,n.block,p),Object(S.a)(t,n.link,d),Object(S.a)(t,n.justIcon,h),Object(S.a)(t,f,f),t));return r.a.createElement(ua.a,Object.assign({},v,{classes:b,className:g}),c)})),Ba=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"printOthers",value:function(e){var t=[];for(var a in e){var n=e[a],o=r.a.createElement("p",{key:a},r.a.createElement("span",null,a,":")," ",n);t.push(o)}return t}},{key:"render",value:function(){var e=this.props,t=e.pic,a=e.type,n=e.fullName,o=e.okIcon,i=e.noIcon,c=e.onOk,s=e.onCancel,l=e.others,u=e.style,p=e.children;return r.a.createElement(Oe,{profile:!0,style:u},r.a.createElement(Se,{profile:!0},r.a.createElement("h4",{className:"cardTitle"},n),r.a.createElement("div",{style:{overflow:"hidden",width:"100%",height:"16rem"}},r.a.createElement("img",{src:Nt(t),alt:"...",style:{width:"auto",height:"100%",display:"inline",textAlign:"center",lineHeight:"24px"}})),r.a.createElement("h6",{className:"cardCategory"},r.a.createElement("strong",null,"Tipo:"),a),this.printOthers(l),o?r.a.createElement(Ma,{color:"primary",round:!0,onClick:c},o):"",i?r.a.createElement(Ma,{color:"danger",round:!0,onClick:s},i):"",r.a.createElement("div",{style:{margin:"0 auto",display:"block",width:"fit-content"}},p)))}}]),t}(n.Component);a(5597);function Ua(e){var t=e.type,a=e.children;return r.a.createElement("span",{className:"badge ".concat(t)},a)}a(5598);var _a=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",openSearch:!1,autoFocus:!0},a.searchData=[],a.handleSearch=function(e){var t=a.props.willSearch;if("function"===typeof t&&!t(e))return"";return a.search(e),""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"search",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=new Ge("api/persons"),e.next=5,a.get({search:t});case 5:n=e.sent,this.searchData=n.data,this.setState({openSearch:!0,search:t}),this.logger.killItWithFire();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this._logger()}},{key:"_logger",value:function(){var e=new Re;this.logger=e.keylogger((function(e){if("searchUser"!==document.activeElement.id){var t=document.querySelector("#searchUser");t&&t.focus()}}))}},{key:"componentWillUnmount",value:function(){this.logger.killItWithFire()}},{key:"printSearch",value:function(e){var t=this,a=this.state.search.toUpperCase();return 0===e.length?r.a.createElement("div",{className:"missingUser",style:{width:"30vw",margin:"0 auto"}},r.a.createElement(Ae,{title:"No pudimos encontrar a ".concat(a),subtitle:"\xbfDeseas agregarlo?"},r.a.createElement(ce,{iconName:"fa-exclamation-circle",style:{color:"orange",fontSize:"5rem",margin:"20px"}}),r.a.createElement(me,{xs:12},r.a.createElement(Te,{"aria-label":"Registrar",onClick:function(){t.setState({openSearch:!1}),He(t.props.onAddClick)()},type:"submit",size:"14px",icon:"plus",className:"submit",background:"linear-gradient(60deg, #007777, #007733)",style:{color:"white",textShadow:"1px 1px 1px black"}}," ","Registrar")))):e.map((function(e,a){return r.a.createElement(me,{key:a,xs:12,sm:12,md:4},r.a.createElement(Ba,{pic:e.photo,fullName:e.fullname,type:e.type,okIcon:r.a.createElement(yt.a,null),others:{Acceso:0===e.hasAccess?r.a.createElement(Ua,{type:"warning"},"Por confirmar"):r.a.createElement(Ua,{type:"go"},"Permitido")},onOk:function(){t.props.onInteraction(e.id,e),t.setState({openSearch:!1})}}))}))}},{key:"render",value:function(){var e=this,t=this.state.openSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{xs:12},r.a.createElement(ma,{id:"searchUser",value:this.props.value,onClick:this.handleSearch,title:"Buscar o Registrar nuevo visitante...",icon:r.a.createElement(Ha.a,null)})),r.a.createElement(et,{open:t,styles:{width:"80vw"},onClose:function(){e.setState({openSearch:!1})}},r.a.createElement(de,null,this.printSearch(this.searchData))))}}]),t}(n.Component);function Wa(e){var t=e.zone,a=e.name,o=Object(m.a)(e,["zone","name"]),i=Object(n.useState)([]),c=Object(he.a)(i,2),s=c[0],l=c[1],u=function(){var e=Object(b.a)(f.a.mark((function e(){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("/api/address"),n=t?{zone:t}:{},e.next=4,a.get(n);case 4:r=e.sent.data,l(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),r.a.createElement(Lt,Object.assign({name:a||"streetSelector"},o),s.map((function(e,t){return r.a.createElement("option",{key:t,value:"".concat(e.zone,"-").concat(e.number)},e.address)})))}function qa(e){var t=e.onSubmit,a=e.children,n=e.open,o=e.title,i=Object(m.a)(e,["onSubmit","children","open","title"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(et,Object.assign({},i,{open:n,onClose:function(){He(t)(!1)}}),r.a.createElement(Ae,{title:o,subtitle:" "},r.a.createElement(me,{xs:12,style:{textAlign:"center"}},a),r.a.createElement(me,{xs:6,style:{textAlign:"center"}},r.a.createElement(Te,{style:{color:"green",margin:"0 auto"},icon:"check-circle",title:"aceptar",onClick:function(){He(t)(!0)}})),r.a.createElement(me,{xs:6,style:{textAlign:"center"}},r.a.createElement(Te,{style:{color:"red"},icon:"times",title:"Cancelar",onClick:function(){He(t)(!1)}})))))}a(5599);function $a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$a(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$a(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ga(e){var t=e.onSubmission,a=Object(n.useState)(!1),o=Object(he.a)(a,2),i=o[0],c=o[1],s=Object(n.useState)({fullname:"",address:"",plate:"",description:""}),l=Object(he.a)(s,2),u=l[0],p=l[1],d=Object(n.useState)(null),m=Object(he.a)(d,2),h=m[0],v=m[1],g=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h&&(t.photo=h),t.type="Visitantes",t.limitedAccess=(new Date).toISOString().substring(0,10),O(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){e.address=u.address,He(t)(e)},O=function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(t),a=new Ge("/api/persons/"),e.next=4,a.post(t);case 4:n=e.sent.data,E({houseCode:u.address,personID:n.id}),y(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return new Ge("api/cars").post(e)},E=function(e){var t=e.houseCode,a=e.personID;new Ge("api/residents/").post({houseCode:t,personID:a})};return r.a.createElement(Ae,{title:"Registro de visitantes",subtitle:"Llama por tel\xe9fono antes de registrar al usuario."},r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Ft,{autoStart:!0,onPhotoTaken:function(e){v(e)},photo:h})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{upperCase:!0,title:"Nombre completo",name:"fullname",value:u.fullname,onBlur:function(e){return p(Va({},u,{fullname:e.target.value})),e.target.value}})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{upperCase:!0,title:"Placa Vehicular",name:"plate",value:u.plate,onBlur:function(e){return p(Va({},u,{plate:e.target.value})),e.target.value}})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{upperCase:!0,title:"Descripci\xf3n",name:"description",value:u.description,onBlur:function(e){return p(Va({},u,{description:e.target.value})),e.target.value}})),r.a.createElement(me,{xs:12},r.a.createElement(Wa,{title:"Domicilio",value:u.address,onChange:function(e){p(Va({},u,{address:e.value}))},name:"streetSelector"})),r.a.createElement(Je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit",onClick:function(){""!=u.address&&c(!0)}},"Guardar"),r.a.createElement(qa,{open:i,style:{width:"80%"},title:"Llama al hospedante",onSubmit:function(e){e&&g(u),c(!1)}},r.a.createElement(Ja,{zone:u.address})))}function Ja(e){var t=e.zone,a=Object(n.useState)([]),o=Object(he.a)(a,2),i=o[0],c=o[1],s=function(){var e=Object(b.a)(f.a.mark((function e(){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=new Ge("api/houses/".concat(t,"/persons")),e.next=5,a.get();case 5:if(n=e.sent.data,0!=Object.values(n).length){e.next=9;break}return c(["Llama a administraci\xf3n"]),e.abrupt("return",!1);case 9:c(JSON.parse(n.resident.phones));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),r.a.createElement("ul",{className:"phoneList"},i.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(de,null,r.a.createElement(me,{xs:2},r.a.createElement(ce,{iconName:"fa-phone"})),r.a.createElement(me,{xs:10},e)))})))}var Qa=a(96),Xa=a.n(Qa);function Ya(e){var t=e.personId,a=e.onChange,o=e.onClose,i=Object(m.a)(e,["personId","onChange","onClose"]),c=Object(n.useState)(),s=Object(he.a)(c,2),l=s[0],u=s[1],p=Object(n.useState)(!1),d=Object(he.a)(p,2),h=d[0],f=d[1];return r.a.createElement(et,Object.assign({onClose:o},i),r.a.createElement(Oe,null,r.a.createElement(Se,null,r.a.createElement(Wa,{title:"Selecciona domicilio a donde se dirige",value:l,name:"really",onChange:function(e){u(e.value)}}),r.a.createElement(Ma,{fullWidth:!0,color:"primary",onClick:function(){f(!0)}},"Guardar"))),r.a.createElement(qa,{open:h,style:{width:"80%"},title:"Llama al hospedante",onSubmit:function(e){e&&(new Ge("api/residents/").post({houseCode:l,personID:t}),new Gt(t).setAccess(!0,{hash:!0,limitedAccess:(new Date).toISOString().substring(0,10)}).then((function(e){He(a)(e.data,l)}))),f(!1)}},r.a.createElement(Ja,{zone:l})))}function Ka(e){var t=0,a={},n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value,l="payment"===s.type?-1*parseFloat(s.import):parseFloat(s.import);a[s.type]=(a[s.type]||0)+l,t+=l}}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a.total=t,a}function Za(e,t){return en.apply(this,arguments)}function en(){return(en=Object(b.a)(f.a.mark((function e(t,a){var n,r,o,i,c,s,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:"XAXX010101000",r=l.length>3&&void 0!==l[3]?l[3]:99,o=0,i=new Ge("api/finances"),e.next=6,i.post({description:"Pago de adeudo",amount:a,conceptID:"maintenance fees",rfc:n,paymentMethod:r});case 6:return c=e.sent.data,o=c.id,s=new Ge("api/charge/"),e.next=11,s.post({type:"payment",houseID:t,import:a,financeID:o});case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e,t){var a=t.amount,n=t.balance,r=t.payments,o=new Ge("api/payments/unrecognized/".concat(e)),i=a-(n=parseFloat(n)+parseFloat(r));return!(n<0)&&(o.put({balance:n}),i)}function an(){return(an=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/charge/".concat(t,"/unpaid")),e.next=3,a.get();case 3:if(n=e.sent.data,r=n,0===Object.entries(r).length&&r.constructor===Object){e.next=7;break}return e.next=7,$e()({title:"Advertencia",text:"Hay un adeudo pendiente de pago, favor de pasar a administraci\xf3n.",timer:3e3,buttons:!1});case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}var r}),e)})))).apply(this,arguments)}var nn=a(166),rn=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={alias:null,url:null,cmd:null,seconds:null,type:!0},a.render=function(){var e=a.state,t=e.alias,n=e.url,o=e.cmd,i=e.seconds,c=e.type,s=a.props,l=s.onSubmit,u=s.id,p=!1,d="";return null!=u&&(p=!0,d=u),r.a.createElement(tt,{autoload:p,path:"api/doors/".concat(d),method:p?"put":"post",submitted:l,willSubmit:function(e){return e},getter:function(e){a.setState(e.data)}},r.a.createElement(Ae,{title:"Comando",subtitle:"Registrar un nuevo comando"},r.a.createElement(me,{xs:12},r.a.createElement(zt,{required:!0,title:"Alias",name:"alias",value:t})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{required:!0,title:"Url",name:"url",value:n}),r.a.createElement("center",null,r.a.createElement("i",null,"A\xf1ade {mi_IP} para que la ruta sea equivalente a tu IP publica."))),r.a.createElement(me,{xs:12},r.a.createElement(zt,{required:!0,title:"Comando",name:"cmd",value:o})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{required:!0,title:"Tiempo Limite",name:"seconds",value:i})),r.a.createElement(me,{xs:12},r.a.createElement(Lt,{title:"Tipo de Puerta",name:"type",value:c,onChange:function(e){a.setState({type:e.value})}},r.a.createElement("option",{value:0},"Salida"),r.a.createElement("option",{value:1},"Entrada"),r.a.createElement("option",{value:2},"Peatonal"))),r.a.createElement(ua.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))},a}return Object(E.a)(t,e),t}(n.Component),on=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={doors:[],modalOpen:!1,doorID:null},a.render=function(){var e=a.state,t=e.doors,n=e.doorID,o=e.modalOpen;return r.a.createElement(Fa,{title:"Puertas",subtitle:"Lista de comandos para abrir puertas",titles:["Alias","URL","Comando","Espera en pantalla","Tipo","Acciones"],content:t,modalOpen:o,onClose:function(){a.setState({modalOpen:!1,doorID:null})},inModal:r.a.createElement(rn,{id:n,onSubmit:function(){a.loadDoors()}})})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadDoors()}},{key:"testDoor",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/doors/".concat(t,"/run")),e.next=3,a.get();case 3:1==e.sent.data&&$e()("Excelente","Comando Ejecutado","success");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDoor",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/doors/".concat(t)),e.next=3,a.delete();case 3:this.loadDoors();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadDoors",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/doors"),e.next=3,t.get();case 3:a=(a=e.sent.data).map((function(e){return[e.alias,e.url,e.cmd,e.seconds,cn[e.type],r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{size:"small",color:"primary",onClick:function(){n.setState({modalOpen:!0,doorID:e.id})}},r.a.createElement(ce,{iconName:"fa-edit",style:{fontSize:"13px"}})),r.a.createElement(z.a,{size:"small",color:"primary",onClick:function(){n.testDoor(e.id)}},r.a.createElement(ce,{iconName:"fa-play",style:{fontSize:"13px"}})),r.a.createElement(z.a,{size:"small",color:"secondary",onClick:function(){n.deleteDoor(e.id)}},r.a.createElement(ce,{iconName:"fa-trash",style:{fontSize:"13px"}})))]})),this.setState({doors:a,modalOpen:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),cn=["Salida","Entrada","Peatonal"],sn=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={options:[]},a.render=function(){var e=a.props,t=e.name,n=e.title,o=e.value,i=(e.onChange,Object(m.a)(e,["name","title","value","onChange"])),c=a.state.options;return r.a.createElement(Lt,Object.assign({title:n,value:o,onChange:function(e){a.getData(e.value)}},i,{name:t||"selector"}),a.mapOptions(c))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"mapOptions",value:function(e){return(e=(new Re).orderBy(e,"alias","asc")).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},r.a.createElement("span",null,e.alias),r.a.createElement(ce,{style:{margin:"0px 5px"},iconName:"fa-sign-".concat(e.type?"in":"out","-alt")}),"(",cn[e.type],")")}))}},{key:"loadOptions",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/doors"),e.next=3,a.get();case 3:n=e.sent,this.setState({options:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadOptions(this.props.type)}},{key:"getData",value:function(e){var t=new Re,a=this.state.options;if(0===a.length)return!1;var n=t.searchByKey(a,"id",e);return"function"===typeof this.props.getDoor&&n.length>0&&this.props.getDoor(n),He(this.props.onChange)(e,n),n}}]),t}(n.Component),ln=a(167),un=function(){function e(t){Object(v.a)(this,e),this.cancelInterval=!1,this.timeOutCallback={},this.eachCallback={},this.interval={},this.time=1,this.time=t}return Object(g.a)(e,[{key:"start",value:function(){return this.onAccessTimeout(this.time),this}},{key:"each",value:function(e){return this.eachCallback=e,this}},{key:"cancel",value:function(e){return this.cancelInterval=!0,this.cancelCallback=e,this}},{key:"onTimesOut",value:function(e){return this.timeOutCallback=e,this}},{key:"run",value:function(){return this.time=0,this}},{key:"onAccessTimeout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.interval=setInterval((function(){e.time-=1,e.eachCallback(e.time),console.log(e.cancelInterval,new Date,e.interval),e.cancelInterval&&(e.cancelInterval=!1,clearInterval(e.interval),He(e.cancelCallback)(t)),0===e.time&&(He(e.timeOutCallback)(e.time),clearInterval(e.interval))}),1e3)}}]),e}(),pn=a(168),dn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={time:1,status:""},a.startTimer=function(){var e=new un(a.state.time);e.start().each((function(t){console.log(a.state.status),"cancel"==a.state.status&&e.cancel((function(){He(a.props.onClose)()})),a.setState({time:t})})).onTimesOut((function(){He(a.props.onClose)(),He(a.props.onSave)();var e=a.props,t=e.id,n=e.type,r=e.doorType,o=e.door,i=e.address;a.grantAccess(t,n,r,i,o)}))},a.state.time=e.door.seconds||15,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"_setAccess",value:function(e){var t=e.type,a=e.id;switch(console.log(t),t){case"Visitantes":new Gt(a).setAccess(!1,{hash:!0})}}},{key:"grantAccess",value:function(){var e=Object(b.a)(f.a.mark((function e(t,a,n,r,o){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Ge("api/access/".concat(t)),e.next=3,i.post({inside:n,door:o.id,houseCode:r});case 3:e.sent.data.personID===t&&this.openDoor(),this._setAccess({id:t,type:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}()},{key:"openDoor",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.door,a=new Ge("api/doors/".concat(t.id,"/run")),e.next=4,a.get();case 4:0==e.sent.data&&(Me(pn.helpSound),$e()("Advertencia","No se pudo abrir la puerta","error"));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.photo,o=t.fullname,i=t.type,c=t.doorType,s=t.door,l=t.address,u=t.onSave,p=this.state.time;return r.a.createElement(et,{open:this.props.open,onClose:Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({status:"cancel"});case 2:case"end":return t.stop()}}),t)})))},r.a.createElement(Ba,{pic:n,fullName:o,type:i,okIcon:r.a.createElement(yt.a,null),onOk:Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({status:"cancel"});case 2:e.grantAccess(a,i,c,l,s),He(u)();case 4:case"end":return t.stop()}}),t)}))),onCancel:Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({status:"cancel"});case 2:case"end":return t.stop()}}),t)}))),noIcon:r.a.createElement(xt.a,null),style:{minWidth:"20rem",minHeight:"50vh",paddingTop:"1rem"}},"".concat(p," segundos restantes")))}},{key:"componentDidMount",value:function(){Me(ln.wait),this.startTimer()}}]),t}(n.Component);function mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function hn(){var e=Object(n.useState)(),t=Object(he.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),c=Object(he.a)(i,2),s=c[0],l=c[1],u=Object(n.useState)(!1),p=Object(he.a)(u,2),d=p[0],m=p[1],h=Object(n.useState)("{}"),v=Object(he.a)(h,2),g=v[0],y=v[1],O=Object(n.useState)(!1),x=Object(he.a)(O,2),E=x[0],j=x[1],w=function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Gt).by({hash:t});case 2:if(0!==(a=e.sent).length){e.next=8;break}return Me(nn.accessDenied),$e()({title:"Advertencia",text:"QR invalido",timer:3e3,icon:"warning"}),o(""),e.abrupt("return",!1);case 8:y(JSON.stringify(a[0])),m(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null==s?r.a.createElement(Ae,{title:"Seleccione Puerta",subtitle:" "},r.a.createElement(me,{xs:12},r.a.createElement(sn,{title:"Seleccione la puerta",value:s,onChange:function(e,t){l(t[0]),console.log(t)}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{title:s?s.alias:"Puerta de acceso",subtitle:"Seleccione puerta de acceso"},r.a.createElement(De,{conditional:0==d},r.a.createElement(_a,{key:a,value:a,willSearch:function(e){var t=new Re;e=e.toLowerCase();var a=t.isJsonString(e);return!1===a||(w(a.h),"")},onInteraction:function(e,t){y(JSON.stringify(t)),m(!0)},onAddClick:function(){j(!0),m(!0)}})),r.a.createElement(fn,{door:s,open:E,key:"vs"+E,onClose:function(){y("{}"),m(!1)},onSubmission:function(e){y(JSON.stringify(e)),j(!1)}}),r.a.createElement(bn,{door:s,person:JSON.parse(g),open:"{}"!=g,key:JSON.parse(g).id,onClose:function(){m(!1)},onEnd:function(){y("{}"),m(!1)}})))}function fn(e){var t=e.open,a=e.onSubmission,o=Object(m.a)(e,["open","onSubmission"]),i=Object(n.useState)("{}"),c=Object(he.a)(i,2),s=c[0],l=c[1],u=JSON.parse(s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,{person:u,address:u.address,open:"{}"!==s,onPrint:function(){console.log(s),He(a)(u)}}),r.a.createElement(et,Object.assign({open:t},o),r.a.createElement(Ga,{onSubmission:function(e){l(JSON.stringify(e))}})))}function bn(e){var t=e.door,a=e.person,o=e.open,i=void 0!==o&&o,c=e.onEnd,s=Object(m.a)(e,["door","person","open","onEnd"]),l=Object(n.useState)(!1),u=Object(he.a)(l,2),p=u[0],d=u[1],h=function(){var e=Object(b.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&2==t.type){e.next=3;break}return d(t.type),e.abrupt("return",!1);case 3:return e.next=5,$e()({title:"Acceso Peatonal",text:"\xbf".concat(a.fullname," esta entrando o saliendo?"),icon:"warning",showCancelButton:!1,type:"input",buttons:{cancel:"Salir",confirm:"Entrar"}});case 5:n=e.sent,d(n?1:0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){(function(e){return an.apply(this,arguments)})(a.id).then((function(e){h()}))};return Object(n.useEffect)((function(){i&&v()}),[]),!!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{conditional:1===p},r.a.createElement(yn,Object.assign({person:a,door:t,onEnd:c},s))),r.a.createElement(De,{conditional:0===p},r.a.createElement(On,Object.assign({person:a,door:t,onEnd:c},s))))}function vn(e){var t=e.person,a=e.skip,o=void 0!==a&&a,i=e.onChange,c=e.onClose,s=function(e){var t=e.id,a=e.hasAccess,n=e.limitedAccess;if(null==n)return a;var r=new Date(n).getTime(),o=(new Date).getTime();return!!(r>o&&a)||(r<o&&new Gt(t).setAccess(!1,{hash:!0}),!1)}(t),l=Object(n.useReducer)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mn(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t)}),{modal:!s&&!o,ticket:!1,address:""}),u=Object(he.a)(l,2),p=u[0],d=u[1],m=p.modal,h=p.ticket,v=p.address;return Object(n.useEffect)((function(){s&&He(i)()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ya,{personId:t.id,open:m,onChange:function(e,t){d({modal:!1,ticket:!0,address:t})},onClose:c}),r.a.createElement(gn,{person:t,address:v,open:h,onPrint:Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(p),He(i)();case 2:case"end":return e.stop()}}),e)})))}))}function gn(e){var t=e.person,a=e.address,n=e.open,o=e.onPrint;return r.a.createElement(De,{conditional:n},r.a.createElement(za,{hash:JSON.stringify({h:t.hash}),name:t.fullname,details:[t.plate,a,"Conserve su ticket, sera requerido al salir de las instalaciones."],onPrint:o,date:(new Date).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}))}function yn(e){var t=e.person,a=e.onEnd,o=e.door,i=Object(m.a)(e,["person","onEnd","door"]),c=Object(n.useState)(!1),s=Object(he.a)(c,2),l=s[0],u=s[1];return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{conditional:!l},r.a.createElement(vn,Object.assign({person:t,onChange:function(){console.log(l),u(!0)}},i))),r.a.createElement(De,{conditional:l},r.a.createElement(dn,Object.assign({open:l,door:o,doorType:1},t,{onClose:function(){He(a)()},onSave:function(){console.log("saved"),Me(Xa.a)}}))))}function On(e){var t=e.person,a=e.door,o=e.onEnd,i=Object(n.useState)(!0),c=Object(he.a)(i,2),s=c[0];c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,Object.assign({open:s},t,{door:a,doorType:0,onClose:function(){He(o)()},onSave:function(){Me(Xa.a),He(o)()}})))}var xn=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(hn,null))},a}return Object(E.a)(t,e),t}(r.a.Component),En=(a(5600),function(e){function t(){var e;Object(v.a)(this,t),(e=Object(y.a)(this,Object(O.a)(t).call(this))).state={currentState:null};var a=(new Date).getTime();return e.id="tab"+a,e}return Object(E.a)(t,e),Object(g.a)(t,[{key:"storeCurrentTab",value:function(e){this.focusAtIndex(e),this.setState({currentState:e})}},{key:"goToLast",value:function(){var e=this.props.children.length-1;this.focusAtIndex(e),this.setState({currentState:e})}},{key:"goNext",value:function(){var e=this.state.currentState+1;this.focusAtIndex(e),this.setState({currentState:e})}},{key:"goPrev",value:function(){var e=this.state.currentState-1;this.focusAtIndex(e),this.setState({currentState:e})}},{key:"focusAtIndex",value:function(e){var t=document.querySelectorAll("#".concat(this.id," li"));t[e].scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),this.setActive(t,e)}},{key:"setActive",value:function(e,t){for(var a=0;a<e.length;++a)e[a].classList.remove("active");e[t].classList.add("active")}},{key:"renderTab",value:function(){var e=this.state.currentState;for(var t in this.props.children){var a=this.props.children[t];if(null==this.state.currentState&&a.props.active)return a;if(e==t)return a}}},{key:"render",value:function(){var e=this,t=this.props.hidden?"hidden":"",a=this.props.className;return r.a.createElement("div",{className:"tabsContainer ".concat(a),id:this.id},r.a.createElement("ul",{className:"nav nav-tabs ".concat(t)},this.props.children.map((function(t,a){return r.a.createElement("li",{key:a,className:t.props.active?"active":""},r.a.createElement("a",{"data-toggle":"tab",onClick:function(t){return e.storeCurrentTab(a)},href:"#"+t.props.title},!0===e.props.numeric?r.a.createElement("span",{className:"number"},a+1):"",r.a.createElement("span",{className:"tabTitle"},t.props.title)))}))),r.a.createElement("div",{className:"tab-content"},this.renderTab()))}}]),t}(r.a.Component)),jn=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.title;return r.a.createElement("div",{id:e,className:"tab-pane fade in active"},r.a.createElement("div",null,this.props.children))}}]),t}(n.Component),wn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={profiles:[],value:e.value},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value!=this.state.value&&this.setState({value:e.value})}},{key:"componentDidMount",value:function(){this.loadProfiles()}},{key:"loadProfiles",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/profiles"),e.next=3,t.get();case 3:a=e.sent,this.setState({profiles:a.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"printProfiles",value:function(e){return e.map((function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.name)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(Lt,{name:"profileID",value:this.state.value,onChange:function(t){He(e.props.onChange)(t)}},this.printProfiles(this.state.profiles),r.a.createElement("option",{value:"new"},new ge("new").get()))}}]),t}(n.Component),kn=function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(y.a)(this,Object(O.a)(t).call(this)))._fillForm=function(t){e.setState(t.data)},e.state={mailError:!1,email:"",password:"",profileID:""},e}return Object(E.a)(t,e),Object(g.a)(t,[{key:"_willSubmit",value:function(e){return e.password!==e.checkPassword?($e()("Oops",new ge("Check Password").get(),"error"),!1):"undefined"===typeof e.profileID?($e()("Oops",new ge("Tipo de usuario es obligatorio").get(),"error"),!1):e}},{key:"_setToArray",value:function(e){return"object"===typeof e?e:[e]}},{key:"_afterSubmit",value:function(e,t){var a=this.props.submission;if("function"===typeof a)return a(e,t)}},{key:"onMailBlur",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("/api/users"),n=t.target.value,e.next=4,a.get({search:n});case 4:if(r=e.sent,this.state.email!==n){e.next=7;break}return e.abrupt("return",!1);case 7:r.data.length>0?($e()("Opps",new ge("Existing Mail").get(),"error"),this.setState({mailError:!0,email:""})):this.setState({mailError:!1,email:n});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.personID||"",a=this.state,n=a.email,o=a.mailError,i=a.password,c=a.profileID;return r.a.createElement(tt,{path:"/api/persons/".concat(t,"/user"),autoload:""!==t,method:"post",willSubmit:this._willSubmit.bind(this),submitted:this._afterSubmit.bind(this),getter:this._fillForm},r.a.createElement(de,null,r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Ae,{title:"User",subtitle:"Fill the Form"},r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(wn,{value:c,onChange:function(t){e.setState({profileID:t.value})}})),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(ft,{labelText:"Email Address",id:"email-address",error:o,value:n,onChange:function(t){var a=t.target;e.setState({email:a.value})},inputProps:{name:"email",type:"email",required:!0,onBlur:this.onMailBlur.bind(this),autoComplete:"off"},formControlProps:{fullWidth:!0}})),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(ft,{labelText:"Password",id:"password",value:i,inputProps:{name:"password",type:"password",required:!0},formControlProps:{fullWidth:!0},onChange:function(t){var a=t.target;e.setState({password:a.value})}})),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(ft,{labelText:"Validate Password",id:"validate-password",value:"",inputProps:{name:"checkPassword",type:"password",required:!0},formControlProps:{fullWidth:!0}})),r.a.createElement(Je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))))}}]),t}(r.a.Component),Sn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handlerSubmit=function(e){var t=a.props.onSubmit;"function"===typeof t&&t(e)},a.state={id:e.id},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"next",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.id,n=a?"Edit Password":"Give Password",e.next=4,$e()({text:new ge(n).get(),icon:"success",buttons:[new ge("No, Thanks").get(),new ge("Yes, Please").get()],dangerMode:!1});case 4:if(!e.sent){e.next=9;break}return this.setState({id:t.id}),this.refs.tabulator.goNext(),e.abrupt("return",t);case 9:this.handlerSubmit(t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.id;return r.a.createElement(En,{hidden:!0,ref:"tabulator"},r.a.createElement(jn,{active:!0,title:"Persons"},r.a.createElement(Mt,{submission:this.next.bind(this),type:this.props.type,edit:e})),r.a.createElement(jn,{title:"Users"},r.a.createElement(kn,{submission:this.handlerSubmit,personID:e})))}}]),t}(n.Component),Cn=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Sn,null))}}]),t}(r.a.Component),Pn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={profiles:[],permissions:[],nProfile:""},a.loadPermissions(),a.loadProfiles(),a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadProfiles",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/profiles"),e.next=3,t.get();case 3:a=e.sent,this.setState({profiles:a.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPermissions",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/permissions"),e.next=3,t.get();case 3:a=e.sent,this.setState({permissions:a.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"printSwitch",value:function(e,t){var a=this,n=e.id,o=new Re,i=e.permissions;return t.map((function(e,t){var c=0!==o.searchByKey(i,"name",e.name).length;return r.a.createElement(Je.h,{checked:c,onChange:function(){a.setPermission({profileID:n,permissionID:e.id,active:c})}})}))}},{key:"setPermission",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.profileID,n=t.permissionID,r=t.active,o=new Ge("api/profiles/".concat(a,"/permissions")),!r){e.next=7;break}return e.next=5,o.delete({permissionID:n});case 5:e.next=9;break;case 7:return e.next=9,o.post({permissionID:n});case 9:this.loadProfiles();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addProfile",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=new Ge("api/profiles"),e.next=5,a.post({name:t});case 5:$e()(new ge("Saved").get(),new ge("Sucess").get(),"success"),this.loadProfiles();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteByID",value:function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ge("api/profiles/".concat(a)),r=new ge("Delete the profile").get(),r="".concat(r,": ").concat(t),e.next=5,$e()({text:new ge(r).get(),icon:"warning",buttons:[new ge("No, Thanks").get(),new ge("Yes, Please").get()],dangerMode:!0});case 5:if(!e.sent){e.next=10;break}return e.next=9,n.delete();case 9:this.loadProfiles();case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.permissions,n=t.profiles,o=t.nProfile,i=a.map((function(e){return e.name})),c=n.map((function(t){return[t.name].concat(Object(Rt.a)(e.printSwitch(t,a)),[r.a.createElement(Xe.a,{key:Math.random(),color:"secondary",size:"small",className:"buttonMargin",onClick:function(){return e.deleteByID(t.name,t.id)}},r.a.createElement(Ye.c,null))])}));return r.a.createElement(Ae,{title:"Profile",subtitle:"Assign the permissions"},r.a.createElement(Pa,{tableHeaderColor:"primary",tableHead:["Perfil"].concat(Object(Rt.a)(i),["Acciones"]),tableData:c.reverse()}),r.a.createElement(ft,{key:Math.random(),labelText:"Nuevo Perfil",formControlProps:{fullWidth:!0},value:o,onBlur:function(t){var a=t.target.value;e.addProfile(a),t.target.value=""},inputProps:{onBlur:function(t){var a=t.target.value;e.addProfile(a),e.setState({nProfile:""})},endAdornment:r.a.createElement(vt.a,{position:"end"},r.a.createElement(z.a,null,r.a.createElement(Ye.a,null)))}}))}}]),t}(n.Component);function Dn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dn(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var In=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).pages=8,a.responsiveSize=600,a._setPage=function(e){window.scrollTo({top:0,behavior:"smooth"}),a._loadData({page:e,sort:a.state.sort,search:a.state.search})},a.render=function(){var e=a.props.titles,t=a.state,n=t.page,o=t.perPage,i=t.content,c=t.search,s=t.sort;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("i",null,"P\xe1gina Actual: ",n," de ",a.contentSize),r.a.createElement(Ne,{maxSize:a.responsiveSize},r.a.createElement("main",{style:{width:"100%",overflowY:"auto",background:"#fafafa",borderRadius:"9px"}},r.a.createElement(Na,{titles:e,data:i}))),r.a.createElement(Ne,{minSize:a.responsiveSize},r.a.createElement(Pa,{tableHeaderColor:"primary",tableHead:a.orderBy(e),tableData:i,className:"customTable"})),r.a.createElement("center",null,a._pageControl(o,n),r.a.createElement("br",null),"por p\xe1gina:"," ",r.a.createElement("select",{value:o,onChange:function(){var e=Object(b.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,e.next=3,a.setState({perPage:r.value});case 3:a._loadData({page:n,search:c,sort:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement("option",null,"8"),r.a.createElement("option",null,"20"),r.a.createElement("option",null,"100")))))},a.state={page:1,search:e.search||"",sort:{index:"id",type:null},perPage:10,content:[]},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this._loadData({page:1})}},{key:"_loadData",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,o,i,c,s,l,u,p,d,m,h,b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,n=void 0===a?1:a,r=t.search,o=t.sort,i=void 0===o?{}:o,c=this.props,s=c.path,l=c.formatContent,u=c.args,p=void 0===u?{}:u,d=new Ge(s),m=this._setOrder(i),e.next=6,d.get(Nn({page:n,search:r||this.state.search||"",perPage:this.state.perPage},m,{},p));case 6:h=e.sent,this.contentSize=h.meta.last_page,b=h.data.map((function(e){return l(e)})),this.setState({perPage:h.meta.per_page,page:n,content:b,sort:i,search:r});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setOrder",value:function(e){return{orderType:e.type?"asc":"desc",orderBy:e.index||"id"}}},{key:"_pageControl",value:function(e,t){var a=this,n=this.contentSize,o=n>e?5:n,i=t-5,c=[];t>1&&c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,size:"small",key:"menos",onClick:function(){a._setPage(t-1)}},r.a.createElement(ce,{iconName:"fa-chevron-left"})));for(var s=function(e){if(e<1)return"continue";c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,key:e+"fab",size:"small",color:e==t?"primary":"default",onClick:function(){a._setPage(e)}},e))},l=i;l<t;l++)s(l);var u=function(e){var o=e+t;if(o>=n)return"continue";c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,size:"small",key:e,color:o==t?"primary":"default",onClick:function(){a._setPage(o)}},o))};for(l=0;l<o;l++)u(l);return t<n-1&&c.push(r.a.createElement(z.a,{"aria-label":"Page: "+t,key:"mas",size:"small",onClick:function(){a._setPage(t+1)}},r.a.createElement(ce,{iconName:"fa-chevron-right"}))),c}},{key:"orderBy",value:function(e){var t=this,a=[],n=function(n){var o=e[n],i=t.state.sort,c=i.index,s=i.type,l="";n==c&&(l=s?"-up":"-down"),a.push(r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("span",null,o),r.a.createElement(ua.a,{"aria-label":"Order "+l,size:"small",onClick:function(){var e={index:n,type:!s};t._loadData({page:t.state.page,sort:e,search:t.state.search})}},r.a.createElement(ce,{iconName:"fa-sort".concat(l)}))))};for(var o in e)n(o);return a}},{key:"componentWillUpdate",value:function(e,t){e.reload!=this.props.reload&&this._loadData({page:1,search:e.search}),e.search!=this.props.search&&this._loadData({page:1,search:e.search})}}]),t}(n.Component),Fn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={data:e.content,open:e.modalOpen||!1},a.contentSize=0,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t={};e.content!==this.state.data&&(t.data=e.content),e.modalOpen!==this.state.open&&(t.open=e.modalOpen),this.setState(t)}},{key:"toggleModal",value:function(e){this.setState({open:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.titles,o=t.inModal,i=t.title,c=t.subtitle,s=t.onClose,l=t.hideButton,u=t.buttons,p=Object(m.a)(t,["className","titles","inModal","title","subtitle","onClose","hideButton","buttons"]),d=this.state,h=d.data,f=d.open,b=d.search;return r.a.createElement("main",{className:a},r.a.createElement(Ae,{title:i,subtitle:c,customButtons:u,icon:f?"minus":"plus",onAdd:!l&&function(){e.setState({open:!f}),0==!f&&(He(s)(),e.setState({search:"",open:!0}))}},r.a.createElement(De,{conditional:f||!1},o),r.a.createElement(De,{conditional:!f},r.a.createElement(me,{xs:12},r.a.createElement(ma,{title:"Buscar",value:"",icon:r.a.createElement(ce,{iconName:"fa-search"}),onClick:function(t){return e.setState({page:0,search:t}),""}})),r.a.createElement(me,{xs:12},this.props.prev),r.a.createElement(In,Object.assign({search:b,titles:n,formatContent:h},p)))))}}]),t}(n.Component);function Tn(e){var t=e.id,a=e.onSave,o=Object(n.useState)(),i=Object(he.a)(o,2),c=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:"Definir Datos de usuario",icon:"key",onClick:function(){s(!0)}}),r.a.createElement(et,{open:c,onClose:function(){s(!1)}},r.a.createElement(kn,{submission:function(e){s(!1),He(a)(e)},personID:t})))}var An=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleClose=function(){a.setState({openUser:!1,openQR:!1,id:null})},a._formatPersons=function(e,t){var n=new Date(e.limitedAccess),o=n-0!==0?n.toLocaleString("es-MX",{year:"numeric",month:"long",day:"numeric"}):"Vitalicia";return[r.a.createElement(ia,{src:e.photo,style:{width:"50px",height:"50px",borderRadius:"100%",boxShadow:"1px 1px 3px #007777"}}),e.fullname,[r.a.createElement(ca,{key:"mails-".concat(t),type:"mailto",items:e.mails})],[r.a.createElement(ca,{key:"phones-".concat(t),type:"tel",items:e.phones})],e.type,o,[r.a.createElement(Te,{key:e.id+"Fa",size:"12px",onClick:function(){a.setState({id:e.id,openUser:!0})},icon:"edit"}),r.a.createElement(Te,{key:e.id+1+"Fa",size:"12px",onClick:function(){a.setState({QRdata:{h:e.hash},openQR:!0,id:e.id})},icon:"qrcode"}),r.a.createElement(Tn,{key:"usb-".concat(t),id:e.id}),r.a.createElement(Jt,{key:"access-".concat(t),id:e.id,hasAccess:e.hasAccess,expirationDate:e.limitedAccess,onChange:a.addUser})]]},a.state={data:[],id:null,type:e.type,openQR:!1,openUser:!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t={};e.type!==this.state.type&&(t.type=e.type),this.setState(t)}},{key:"addUser",value:function(){}},{key:"reloadQr",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/persons/".concat(t)),e.next=3,a.put({hash:!0});case 3:n=e.sent,this.setState({QRdata:{h:n.data.hash}});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.type,o=t.openUser,i=t.openQR;return r.a.createElement("main",{key:n},r.a.createElement(Fn,{path:"api/persons/paginated/8",ref:"table",args:n?{type:n}:{},title:n||"Usuarios",subtitle:"Control basico de ".concat(n||"Usuarios","."),titles:{photo:"Foto",fullname:"Nombre",mails:"Correo",phones:"Telefono",type:"Tipo",validity:"Vigencia",actions:"Acciones"},formatContent:this._formatPersons,modalOpen:o,onClose:this.handleClose,inModal:r.a.createElement(Mt,{submission:this.handleClose,type:n,edit:a})}),r.a.createElement(et,{open:i,onClose:this.handleClose},r.a.createElement(qt,{onReload:function(){e.reloadQr(a)},data:JSON.stringify(this.state.QRdata)})))}}]),t}(r.a.Component),zn=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(An,{type:this.props.match.params.types})}}]),t}(r.a.Component);function Rn(e){var t=e.onChange,a=e.value,n=e.placeholder;return r.a.createElement(Lt,{placeholder:n||"Filtrar por Coto",name:"zone",onChange:t,value:a},r.a.createElement("option",{value:null},"Todos"),r.a.createElement("option",{value:"I"},"COTO I - FRESNO"),r.a.createElement("option",{value:"II"},"COTO II - ARROYO"),r.a.createElement("option",{value:"III"},"COTO III - BOSQUE"),r.a.createElement("option",{value:"IV"},"COTO IV - ROBLE"),r.a.createElement("option",{value:"V"},"COTO V - PINO"),r.a.createElement("option",{value:"VI"},"COTO VI - OLMO"),r.a.createElement("option",{value:"VII"},"COTO VII - SAUCE"),r.a.createElement("option",{value:"VIII"},"COTO VIII - ABEDULES"),r.a.createElement("option",{value:"IX"},"COTO IX -ALAMO"),r.a.createElement("option",{value:"X"},"COTO X - MANANTIAL"),r.a.createElement("option",{value:"XI"},"COTO XI - CEDROS"))}var Hn=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={options:[]},a.render=function(){var e=a.props,t=e.name,n=e.title,o=e.value,i=Object(m.a)(e,["name","title","value"]),c=a.state.options;return r.a.createElement(Lt,Object.assign({title:n,value:o},i,{name:t||"selector"}),a.mapOptions(c))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"mapOptions",value:function(e){return e.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.fullname)}))}},{key:"loadOptions",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/persons"),e.next=3,a.get({type:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadOptions(this.props.type);case 2:t=e.sent,this.setState({options:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),Ln=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={houseNumber:"",zone:"",areaM2:"",ownerID:"",residentID:"",landUse:""},a.loadHouseData=function(e){a.setState(e.data)},a.render=function(){var e=a.props.id||"",t=a.props.id?"put":"post",n=a.state,o=n.houseNumber,i=n.zone,c=n.areaM2,s=n.ownerID,l=n.residentID,u=n.landUse;return r.a.createElement(tt,{autoload:""!==e,path:"/api/houses/".concat(e),method:t,willSubmit:function(e){var t=e.zone,a=e.houseNumber;return e.code="".concat(t,"-").concat(a),"undefined"===typeof e.residentID&&(e.residentID=e.ownerID),e},submitted:function(e){"function"===typeof a.props.onSave&&a.props.onSave(e)},getter:a.loadHouseData},r.a.createElement(Ae,{title:"Registro",subtitle:"de vivienda"},r.a.createElement(me,{xs:12},r.a.createElement(Rn,{value:i})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Numero de vivienda",name:"houseNumber",value:o})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Area en metros cuadrados",name:"areaM2",value:c})),r.a.createElement(me,{xs:12},r.a.createElement(Hn,{title:"Propietario",name:"ownerID",type:"propietario",value:s})),r.a.createElement(me,{xs:12},r.a.createElement(Hn,{placeholder:"Deja vacio en caso de que el Residente sea igual al Propietario",title:"Residente",type:"residente",name:"residentID",value:l})),r.a.createElement(me,{xs:12},r.a.createElement(Lt,{title:"Uso de suelo",value:u,name:"landUse"},r.a.createElement("option",{value:"Vivienda"},"Vivienda"),r.a.createElement("option",{value:"Inhabitada"},"Inhabitada"),r.a.createElement("option",{value:"Inhabitada"},"Inhabitada"),r.a.createElement("option",{value:"Terreno"},"Terreno"),r.a.createElement("option",{value:"Obra en proceso"},"Obra en proceso"),r.a.createElement("option",{value:"Obra en suspendida"},"Obra en suspendida"),r.a.createElement("option",{value:"Terraza"},"Obra"))),r.a.createElement(Ma,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))},a}return Object(E.a)(t,e),t}(n.Component),Mn=a(5625);function Bn(e){var t=e.personID,a=e.hash,o=Object(m.a)(e,["personID","hash"]),i=Object(n.useState)(a),c=Object(he.a)(i,2),s=c[0],l=c[1],u=Object(n.useState)(!1),p=Object(he.a)(u,2),d=p[0],h=p[1],v=function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/persons/".concat(t)),e.next=3,a.put({hash:!0});case 3:n=e.sent.data,l(n.hash);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,Object.assign({},o,{onClick:function(){h(!d)},icon:"qrcode"})),r.a.createElement(et,{open:d,onClose:function(){return h(!d)}},r.a.createElement(qt,{onReload:function(){v(t)},data:JSON.stringify({h:s})})))}var Un=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).render=function(){var e=a.state,t=e.data,n=e.openRegister,o=e.search,i=e.filterByZone,c=e.houseID;return r.a.createElement(Ae,{title:"Terrenos",subtitle:"Lista de todos los terrenos",onAdd:function(){a.setState({openRegister:!0})}},r.a.createElement(me,{xs:12,sm:4},r.a.createElement(Rn,{onChange:function(e){a.loadHouses(e.value)}})),r.a.createElement(me,{xs:12,sm:8},r.a.createElement(ma,{title:"Buscar",value:"",icon:r.a.createElement(ce,{iconName:"fa-search"}),onClick:function(e){return a.setState({search:e}),e}})),r.a.createElement(me,{xs:12},r.a.createElement(Ia,{search:o,titles:["Coto","Lote","Area","Propietario","Qr de prop","Residente","Qr de res","Acciones"],data:t})),r.a.createElement(et,{open:n,onClose:function(){a.setState({openRegister:!1})},styles:{width:"30vw"}},r.a.createElement(Ln,{id:c,onSave:function(){a.loadHouses(i)}})))},a.state={data:a.localLoad()||[],zone:null,openRegister:!1,search:"",filterByZone:null,houseID:""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadHouses()}},{key:"localLoad",value:function(){var e=new Ge("api/houses").local();return this.formatHouses(e)}},{key:"loadHouses",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/houses"),n=t?{zone:t}:{},e.next=4,a.get(n);case 4:r=e.sent,r=this.formatHouses(r),this.setState({data:r,openRegister:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formatHouses",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null==t?[]:(t=t.data).map((function(t,a){return[t.zone,t.houseNumber,"".concat(t.areaM2," en m2"),t.owner.fullname,r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn,{personID:t.owner.id,hash:t.owner.hash})),t.resident.fullname,r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn,{personID:t.resident.id,hash:t.resident.hash})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Mn.a,{key:"house-".concat(a),to:"/residentes/".concat(t.zone,"-").concat(t.houseNumber)},r.a.createElement(Te,{size:"15px",icon:"home"})),r.a.createElement(Te,{size:"15px",icon:"edit",onClick:function(){e.setState({openRegister:!0,houseID:t.id})}}),r.a.createElement(Mn.a,{to:"/cuenta/".concat(t.id),key:a},r.a.createElement(Te,{size:"15px",icon:"dollar-sign"})),r.a.createElement(Te,{size:"15px",icon:"door-open",style:{color:"red"},title:"Vaciar propiedad",onClick:function(){new Ge("api/houses/".concat(t.id)).delete().then((function(){Object(qe.swal)("success","Casa ha sido deshabitada","success")}))}}))]}))}}]),t}(n.Component);a(5602);function _n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Wn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_n(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_n(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.remoteload(this.state.id)}},{key:"componentWillReceiveProps",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.id)!=this.state.id&&this.remoteload(a);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadQr",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/persons/".concat(t)),e.next=3,a.put({hash:!0});case 3:n=e.sent,this.setState({hash:n.data.hash});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteload",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=new Ge("api/persons/".concat(t)),e.next=5,a.get();case 5:n=e.sent.data,this.setState(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.photo,n=t.fullname,o=t.phones,i=t.mails,c=t.id,s=t.hash;return r.a.createElement(de,{className:"reduceUserProfile"},r.a.createElement(me,{xs:12,lg:4},r.a.createElement(ia,{src:Nt(a),alt:"...",style:{maxHeight:"300px",boxShadow:"1px 1px 1px",borderRadius:"9px"}})),r.a.createElement(me,{xs:12,lg:4},r.a.createElement(de,null,r.a.createElement(me,{xs:12},r.a.createElement(sa,{icon:"user",title:"Nombre Completo"},n)),r.a.createElement(me,{xs:12},r.a.createElement(sa,{icon:"mail-bulk",title:"Correos"},r.a.createElement(ca,{type:"mailto",items:i}))),r.a.createElement(me,{xs:12},r.a.createElement(sa,{icon:"mail-bulk",title:"Tel\xe9fonos"},r.a.createElement(ca,{type:"tel",items:o})))),r.a.createElement(na.a,null,r.a.createElement(Je.e,null))),r.a.createElement(me,{xs:12,lg:4},r.a.createElement(qt,{onReload:function(){e.reloadQr(c)},data:JSON.stringify({h:s})})))}}]),t}(n.Component);function qn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var $n=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).render=function(){var e=a.state,t=e.code,n=e.ownerID,o=e.residentID,i=e.openResidentModal,c=e.openGuestModal,s=n===o;return r.a.createElement(de,{alignItems:"stretch"},r.a.createElement(me,{xs:12},r.a.createElement("h1",null,"Terreno:",t),r.a.createElement("hr",null)),r.a.createElement(me,{md:s?12:6,xs:12},r.a.createElement(Ae,{title:"Titular",subtitle:" "},r.a.createElement(Wn,{id:n}))),s?null:r.a.createElement(me,{md:6,xs:12},r.a.createElement(Ae,{title:"Residente",subtitle:" "},r.a.createElement(Wn,{id:o}))),r.a.createElement(me,{xs:12,lg:6},r.a.createElement(Ae,{onAdd:function(){a.setState({openResidentModal:!0,openGuestModal:!1})},title:"Habitantes",subtitle:"Residentes de esta vivienda"},r.a.createElement(ta,{code:t,modal:i,type:"Residente",onClose:function(){a.setState({openResidentModal:!1,openGuestModal:!1})}}))),r.a.createElement(me,{xs:12,lg:6},r.a.createElement(Ae,{title:"Invitados",subtitle:" ",onAdd:function(){a.setState({openResidentModal:!1,openGuestModal:!0})}},r.a.createElement(ta,{code:t,modal:c,type:"Invitado",onClose:function(){a.setState({openResidentModal:!1,openGuestModal:!1})}}))))},a.state={code:e.match.params.id||"",ownerID:null,residentID:null,openResidentModal:!1,openGuestModal:!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e={},t={};this.props.match&&(e={code:this.props.match.params.id}),this.props.ownerID&&(t={ownerID:this.props.ownerID}),this.loadData(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qn(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t))}},{key:"loadData",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=new Ge("api/houses/"),e.next=5,a.get(t);case 5:n=e.sent.data[0],r=n.ownerID,o=n.residentID,i=n.code,this.setState({code:i,ownerID:r,residentID:o});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(r.a.Component),Vn=(a(5603),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={devices:[]},a.render=function(){var e=a.state.devices;return r.a.createElement(Fa,{title:"Dispositivos sincronizados",subtitle:"dispositivos esperando sincronizacion",titles:["Direcci\xf3n MAC","Comando","Acciones"],content:e,className:"devices"})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadDevices()}},{key:"testDevice",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/doors/".concat(t,"/run")),e.next=3,a.get();case 3:!0===e.sent.data&&$e()("Excelente","Comando Ejecutado","success");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadDevices",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/devices"),e.next=3,t.get();case 3:a=e.sent.data,this.setState({devices:a.map((function(e,t){return[e.macAddress,r.a.createElement(sn,{className:"doorSelector",value:parseInt(e.comandID),onChange:function(t){n.saveComand(e.id,t.value)}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.c,{size:"small",color:"primary",onClick:function(){n.testDevice(e.comandID)}},r.a.createElement(ce,{iconName:"fa-play",style:{fontSize:"13px"}})),r.a.createElement(Je.c,{size:"small",color:"secondary",onClick:function(){n.deleteDevice(e.id)}},r.a.createElement(ce,{iconName:"fa-trash",style:{fontSize:"13px"}})))]}))||[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveComand",value:function(e,t){new Ge("api/devices/".concat(e)).put({comandID:t})}},{key:"deleteDevice",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/devices/".concat(t)),e.next=3,a.delete();case 3:this.loadDevices();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n.Component)),Gn=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={logs:a.localLoad()||[]},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"localLoad",value:function(){var e=new Ge("api/logs").local();return e?(e=e.data,e=this._formatLog(e)):[]}},{key:"loadLog",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/logs"),e.next=3,t.get();case 3:a=e.sent.data,a=this._formatLog(a),this.setState({logs:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadLog()}},{key:"_formatLog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return[e.fullname,e.type,e.originIP,e.httpReffer,r.a.createElement(Da,{list:JSON.parse(e.content)}),e.path,e.method,new Date(e.created_at.date).toLocaleDateString()]}))}},{key:"render",value:function(){var e=this.state.logs;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fa,{hideButton:!0,title:"Bitacora del manantial",subtitle:"Registro de actividad",titles:["Usuario","Tipo","Desde","Vista","Contenido","Destino","Metodo","Fecha"],content:e}))}}]),t}(n.Component),Jn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={concepts:[],id:null},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadConcepts",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/finances/concepts"),e.next=3,t.get();case 3:a=e.sent.data,He(this.props.onChange)(a),this.setState({concepts:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadConcepts()}},{key:"_addConcept",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]&&r[1],n=new Ge("api/finances/concepts/".concat(a||"")),!a){e.next=8;break}return e.next=6,n.put({concept:t});case 6:e.next=10;break;case 8:return e.next=10,n.post({concept:t});case 10:this.loadConcepts();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.concepts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ma,{name:"concepto",title:"Concepto",icon:r.a.createElement(ce,{iconName:"fa-plus"}),onClick:function(t){return e._addConcept(t),""},value:""}),t.map((function(t,a){return r.a.createElement(me,{xs:12},r.a.createElement(zt,{key:a,name:"concepto",title:"Concepto",onBlur:function(a){return e._addConcept(a.target.value,t.id),a.target.value},value:t.concept}))})))}}]),t}(n.Component);function Qn(e){var t=e.name,a=void 0===t?"concept":t,o=e.title,i=e.value,c=e.onChange,s=Object(n.useState)([]),l=Object(he.a)(s,2),u=l[0],p=l[1],d=Object(n.useState)(!1),m=Object(he.a)(d,2),h=m[0],v=m[1],g=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/finances/concepts"),e.next=3,t.get();case 3:a=e.sent.data,p(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt,{title:o,name:a,onChange:function(e){"new"===e.value&&v(!0),He(c)(e)},value:i},r.a.createElement("option",{value:"new"},"Agregar nuevo concepto"),u.map((function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.concept)}))),r.a.createElement(et,{open:h,onClose:function(){v(!1)}},r.a.createElement(Ae,{title:"Lista de conceptos",subtitle:"Permite crear o editar conceptos"},r.a.createElement(Jn,null),r.a.createElement(Te,{icon:"save",onClick:function(){g(),v(!1)}}))))}var Xn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e)))._fillForm=function(e){a.setState(e.data)},a.state={id:e.id||"",rfc:"XAXX010101000",description:"",type:"1",amount:"0.00",concept:"",paymentMethod:"99"},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"_willSubmit",value:function(e){return e.amount*=e.type,e}},{key:"_afterSubmit",value:function(e,t){var a=this.props.submission;if("function"===typeof a)return a(e.data,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.rfc,n=t.concept,o=t.description,i=t.type,c=t.amount,s=t.paymentMethod,l=this.props.edit||"",u=this.props.edit?"put":"post";return r.a.createElement(tt,{autoload:""!=l,path:"/api/finances/".concat(l),method:u,willSubmit:this._willSubmit.bind(this),submitted:this._afterSubmit.bind(this),getter:this._fillForm},r.a.createElement(de,null,r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Ae,{title:"Finanzas",subtitle:"Fill the Form"},r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(zt,{title:"R.F.C",name:"rfc",value:a})),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(zt,{title:"Descripci\xf3n",name:"description",value:o})),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Qn,{title:"Concepto",name:"conceptID",onChange:function(t){return e.setState({concept:t.value}),t.value},value:n})),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(Lt,{title:"Tipo",name:"type",value:i},r.a.createElement("option",{value:"1"},"Entrada"),r.a.createElement("option",{value:"-1"},"Salida"))),r.a.createElement(me,{xs:12},r.a.createElement(Lt,{name:"paymentMethod",title:"M\xe9todo de pago",value:s},r.a.createElement("option",{value:"99"},"Otros"),r.a.createElement("option",{value:"1"},"Efectivo"),r.a.createElement("option",{value:"2"},"Cheque"),r.a.createElement("option",{value:"3"},"Transferencia electronica de fondos"),r.a.createElement("option",{value:"4"},"Tarjeta de credito"),r.a.createElement("option",{value:"5"},"Monedero electronico"),r.a.createElement("option",{value:"6"},"Dinero electronico"),r.a.createElement("option",{value:"8"},"Vales de despensa"),r.a.createElement("option",{value:"28"},"Tarjeta de debito"),r.a.createElement("option",{value:"29"},"Tarjeta de servicio"))),r.a.createElement(me,{xs:12,sm:12,md:12},r.a.createElement(zt,{title:"Precio",type:"number",step:"0.5",name:"amount",value:c})),r.a.createElement(Je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))))}}]),t}(r.a.Component),Yn=function(){function e(t){Object(v.a)(this,e),this.finances=[],this.finances=t}return Object(g.a)(e,[{key:"getAccount",value:function(){var e=this.finances,t={total:0,income:0,expenses:0};return e.map((function(e){var a=e.amount;return t.total+=a,a<0?t.expenses+=a:t.income+=a,null})),t}}]),e}();function Kn(e){var t=e.items,a=e.itemsByLine,n=void 0===a?1:a,o=e.modifier,i=e.titleKey,c=e.children,s=Math.floor(12/n),l=[];for(var u in t){var p=t[u],d=p[i];p="function"===typeof o?o(p,u):p,l.push(r.a.createElement(me,{xs:12,md:s,key:u},r.a.createElement(Ae,{title:new ge(d||u).get()},p)))}return r.a.createElement(de,null,l,c)}function Zn(){var e=Object(n.useState)(0),t=Object(he.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(""),c=Object(he.a)(i,2),s=c[0],l=c[1],u=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/rates"),e.next=3,t.get();case 3:if(0!=(a=e.sent.data).length){e.next=6;break}return e.abrupt("return",!1);case 6:o(a[0].rate),l(a[1].rate);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,t){new Ge("api/rates/".concat(e)).put({rate:t})};return Object(n.useEffect)((function(){u()}),[]),r.a.createElement(Ae,{title:"Tarifas",subtitle:"Permite editar las tarifas y recargos"},r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Mantenimiento",type:"number",value:a,onBlur:function(e){return p(1,e.target.value)}})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Recargos (%)",type:"number",value:s,onBlur:function(e){return p(2,e.target.value)}})))}var er=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={id:null,finances:[],openForm:!1,account:{}},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadFinances",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/finances"),e.next=3,t.get();case 3:a=e.sent.data,n=new Yn(a),a=a.map((function(e){return[e.rfc,e.description,new ge(e.concept.concept).get(),Le(e.amount),(t=e.paymentMethod,{1:"Efectivo",2:"Cheque",3:"Transferencia Electr\xf3nico de fondos",4:"Tarjeta de cr\xe9dito",5:"Monedero electr\xf3nico",6:"Dinero electr\xf3nico",8:"Vales de despensa",28:"Tarjeta de d\xe9bito",29:"Tarjeta de servicio",99:"Otros"}[t]),e.employee.fullname,new Date(e.created_at.date).toLocaleDateString("es-MX",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})];var t})),this.setState({finances:a,id:null,openForm:!1,account:n.getAccount()});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadFinances()}},{key:"_handleClose",value:function(){this.setState({id:null,openForm:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.finances,n=t.openForm,o=t.account;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn,{items:o,itemsByLine:"3",modifier:function(e){return r.a.createElement("center",null,r.a.createElement("h4",null,Le(e)))}}),r.a.createElement(Zn,null),r.a.createElement("hr",null),r.a.createElement(Fa,{title:"Finanzas",subtitle:"Movimientos financieros",titles:["R.F.C","ID","Concepto","Precio","M\xe9todo de pago","Generado por","Generada el"],open:n,content:a,onClose:this._handleClose.bind(this),inModal:r.a.createElement(Xn,{submission:function(){$e()("Excelente","Movimiento generado","success"),e.loadFinances()}})}))}}]),t}(n.Component);function tr(e){var t=e.date1,a=e.date2,o=e.onChange,i=(Object(m.a)(e,["date1","date2","onChange"]),Object(n.useState)(t||_e(new Date))),c=Object(he.a)(i,2),s=c[0],l=c[1],u=Object(n.useState)(a||_e(new Date)),p=Object(he.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)(null),b=Object(he.a)(f,2),v=b[0],g=b[1],y=function(e){var t=e.since,a=e.to,n=new Date(t).getTime();if(new Date(a).getTime()<n||""==t||""==a)return g("Rango no valido"),!1;var r={since:t,to:a};He(o)(r),g(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null,r.a.createElement(me,{xs:12,md:6},r.a.createElement(zt,{title:"Desde",type:"date",value:s,onBlur:function(e){var t=e.target;l(t.value),y({since:t.value,to:d})}})),r.a.createElement(me,{xs:12,md:6},r.a.createElement(zt,{title:"Hasta",type:"date",value:_e(d),onBlur:function(e){var t=e.target;h(t.value),y({since:s,to:t.value})}})),r.a.createElement(me,{xs:12},r.a.createElement("span",{style:{color:"red"}},v))))}function ar(){var e=new Date;e.setDate(e.getDate()+1);var t=Object(n.useState)(new Date),a=Object(he.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(e),s=Object(he.a)(c,2),l=s[0],u=s[1];return r.a.createElement(Fn,{key:o,path:"api/access",title:"Historial de Accesos.",subtitle:"Datos Generales Accesos.",hideButton:!0,args:{since:o,until:l},prev:r.a.createElement(tr,{date1:_e(o),date2:_e(l),onChange:function(e){i(e.since),u(e.to)}}),titles:{photo:"foto",fullname:"Nombre",inside:"Estatus",plate:"Placa",door:"Puerta",houseCode:"Destino",created_at:"Fecha"},formatContent:function(e){return[r.a.createElement(ia,{src:e.photo,style:{width:"50px",height:"50px",borderRadius:"100%",boxShadow:"1px 1px 3px #007777"}}),e.fullname,e.inside?"Entrada":"Salida",e.plate,e.door,e.houseCode,new Date(e.created_at.date).toLocaleDateString("es-MX",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})]}})}var nr=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={address:[],id:""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"deleteAddress",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge("api/address/".concat(t)),e.next=3,$e()({title:"Advertencia",text:"Estas a punto de eliminar una direcci\xf3n, esto no puede deshacerse, \xbfDeseas continuar?.",showCancelButton:!1,type:"input",dangerMode:!0,buttons:{cancel:"No",confirm:"Eliminar"},icon:"warning"});case 3:if(!e.sent){e.next=7;break}return e.next=7,a.delete();case 7:this.loadAddress();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAddress",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/address"),e.next=3,t.get();case 3:a=(a=e.sent.data).map((function(e){return[e.id,e.zone,e.number,e.address,e.created_at,r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{icon:"edit",size:"12px",onClick:function(){n.setState({id:e.id,modalOpen:!0})}}),r.a.createElement(Te,{icon:"trash",size:"12px",style:{color:"red"},onClick:function(){n.deleteAddress(e.id)}}))]})),this.setState({address:a,modalOpen:!1,id:""});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_handleClose",value:function(){this.loadAddress()}},{key:"componentDidMount",value:function(){this.loadAddress()}},{key:"render",value:function(){var e=this,t=this.state,a=t.address,n=t.modalOpen,o=t.id;return r.a.createElement(Fa,{title:"Domicilios",subtitle:"Lista de domicilios",titles:["ID","Coto","Lote","Domicilio","Fecha","Acciones"],content:a,modalOpen:n,onClose:function(){e.setState({modalOpen:!1,id:null})},inModal:r.a.createElement(rr,{id:o,onSubmit:function(){e._handleClose()}})})}}]),t}(n.Component);function rr(e){var t=e.id,a=e.onSubmit,o=Object(n.useState)({zone:"",number:"",address:""}),i=Object(he.a)(o,2),c=i[0],s=i[1],l=c.zone,u=c.number,p=c.address,d=""!=t;return r.a.createElement(tt,{autoload:d,path:"api/address/".concat(t),method:d?"put":"post",submitted:a,willSubmit:function(e){return e},getter:function(e){s(e.data)}},r.a.createElement(Ae,{title:"Registra un nuevo domicilio",subtitle:" "},r.a.createElement(me,{xs:12,md:6},r.a.createElement(zt,{title:"Coto",name:"zone",value:l})),r.a.createElement(me,{xs:12,md:6},r.a.createElement(zt,{title:"Lote",name:"number",value:u})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Calle y n\xfamero",name:"address",value:p})),r.a.createElement(Je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))}function or(e){var t=e.onChange,a=Object(m.a)(e,["onChange"]),o=Object(n.useState)(null),i=Object(he.a)(o,2),c=i[0],s=i[1];return r.a.createElement(Lt,Object.assign({name:"paymentMethod",title:"M\xe9todo de pago",value:c,onChange:function(e){s(e.value),He(t)(e.value)}},a),r.a.createElement("option",{value:"99"},"Otros"),r.a.createElement("option",{value:"1"},"Efectivo"),r.a.createElement("option",{value:"2"},"Cheque"),r.a.createElement("option",{value:"3"},"Transferencia electronica de fondos"),r.a.createElement("option",{value:"4"},"Tarjeta de credito"),r.a.createElement("option",{value:"5"},"Monedero electronico"),r.a.createElement("option",{value:"6"},"Dinero electronico"),r.a.createElement("option",{value:"8"},"Vales de despensa"),r.a.createElement("option",{value:"28"},"Tarjeta de debito"),r.a.createElement("option",{value:"29"},"Tarjeta de servicio"))}var ir=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={content:[],value:""},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadData",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.path,n=t.args,r=new Ge(a),e.next=4,r.get(n);case 4:o=e.sent.data,this.setState({content:o});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.onChange,n=t.path,o=t.formatOptions,i=(t.children,Object(m.a)(t,["onChange","path","formatOptions","children"]));return r.a.createElement(Lt,Object.assign({onChange:function(t){e.setState({value:t.value}),He(a)(t,e.state.content,n)},value:this.state.value},i),this.state.content.map((function(e){return(e=o(e))?r.a.createElement("option",{value:e.value},e.title):""})))}}]),t}(n.Component);function cr(e){var t=e.onChange;return r.a.createElement(ir,{title:"Pagos no reconocidos",path:"api/payments/unrecognized",args:{},onChange:function(e,a){a=(new Re).searchByKey(a,"id",e.value),He(t)(a[0])},formatOptions:function(e){var t=e.id;return e.amount-e.balance==0?null:{value:t,title:"".concat(Le(e.amount-e.balance)," (").concat(e.bank," ").concat(new Date(e.registerDate).toLocaleDateString(),")")}}})}function sr(e){var t=e.onSubmission,a=Object(n.useState)({}),o=Object(he.a)(a,1)[0];return r.a.createElement(tt,{path:"api/payments/unrecognized",method:"post",autoload:!1,submitted:function(e){He(t)(e)}},r.a.createElement(Ae,{title:"Pagos no reconicidos",subtitle:" "},r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Cantidad",name:"amount",value:o.amount,type:"number"})),r.a.createElement(me,{xs:12},r.a.createElement(or,null)),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Banco",name:"bank",value:o.bank})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Codigo de identificacion bancaria",name:"bankCode",value:o.bankCode})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Fecha de pago",name:"registerDate",type:"date",value:o.registerDate||(new Date).toISOString().substring(0,10)})),r.a.createElement(Ma,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Guardar")))}function lr(e){var t=e.value,a=e.onChange,o=e.title,i=e.color,c=void 0===i?"green":i,s=e.children,l=Object(n.useState)(t),u=Object(he.a)(l,2),p=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:o,icon:p?"check-circle":"circle",style:{color:p?c:"gray"},onClick:function(){d(!p),He(a)(!p)}}),s)}function ur(e){var t=e.total,a=e.id,o=e.onChange,i=Object(n.useState)(""),c=Object(he.a)(i,2),s=c[0],l=c[1],u=Object(n.useState)("99"),p=Object(he.a)(u,2),d=p[0],m=p[1],h=Object(n.useState)(!1),v=Object(he.a)(h,2),g=v[0],y=v[1],O=Object(n.useState)({}),x=Object(he.a)(O,2),E=x[0],j=x[1],w=Le(s-t),k=function(){var e=Object(b.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.amount,n=E.balance,r=g?t:s,e.next=4,Za(a,r,null,d);case 4:g&&tn(E.id,{amount:t,balance:n,payments:r}),He(o)(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ae,{title:0==a?"Pago no identificado":"Pago de adeudo",subtitle:" "},r.a.createElement(De,{conditional:0!=a},r.a.createElement("p",null,"Existe un ",t>0?"adeudo por":"saldo a favor por "," el total de: ",r.a.createElement("strong",null,Le(t)))),r.a.createElement(me,{xs:12},r.a.createElement(or,{onChange:function(e){m(e)},required:!0})),r.a.createElement(De,{conditional:0!=a},r.a.createElement(me,{xs:12},"\xbfUtilizar Pagos no reconocidos?",r.a.createElement(lr,{onChange:function(e){y(e)}}))),r.a.createElement(me,{xs:12},g?r.a.createElement(cr,{onChange:function(e){j(e)}}):r.a.createElement(zt,{title:"\xbfCuanto desea pagar?",value:s,type:"number",onBlur:function(e){return l(e.target.value),e.target.value}}),r.a.createElement(De,{conditional:s>t&&a>0},r.a.createElement("p",null,"Hay un excedente de ",r.a.createElement("strong",null,w)),r.a.createElement("p",null,"El excedente sera asignado como prepago."))),r.a.createElement(Ma,{fullWidth:!0,variant:"contained",color:"primary",onClick:k},"Pagar"))}a(5604);function pr(e){var t=e.onChange,a=Object(n.useState)([]),o=Object(he.a)(a,2),i=o[0],c=o[1],s=Object(n.useState)(""),l=Object(he.a)(s,2),u=l[0],p=l[1],d=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge("api/houses/"),e.next=3,t.get();case 3:a=e.sent.data,c(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),r.a.createElement(Lt,{onChange:function(e){var a=e.value;He(t)(i[a]),p(e.value)},value:u},i.map((function(e,t){return r.a.createElement("option",{value:t},e.code)})))}function dr(e){var t=e.content,a=e.titles,n=e.fileName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{icon:"file-excel",title:"Descargar CSV",onClick:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,n=[];t&&n.push(It(t,",",[]));var r=!0,o=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value,u=Object.values(l);n.push(It(u,",",[]))}}catch(h){o=!0,i=h}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var p="data:text/csv;charset=utf-8,"+n.join("\n"),d=encodeURI(p),m=document.createElement("a");m.setAttribute("href",d),m.setAttribute("download",a+".csv"),document.body.appendChild(m),m.click()}(t,a,n)}}))}function mr(e){var t=e.url,a=e.title,n=void 0===a?"imprimir":a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{icon:"print",title:n,onClick:function(){!function(e){new Dt;var t="localhost"===window.location.hostname?"http://127.0.0.1:8000":"https://api.elmanantialapp.com";e="".concat(t,"/").concat(e),(new We).fetchHTML(e).then((function(e){var t=document.createElement("div");t.innerHTML=e,t.print()}))}(t)}}))}var hr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={id:"",service:"",price:"",recharge:"",rechargeTimeLimitOnDays:"",iteration:"",iterationType:"",applyTo:"",chargeType:"unitary",startDate:_e(),willRecharge:!1,iterationLimit:1,agreement:!1},a.state.id=e.id||"",a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.service,o=t.price,i=t.agreement,c=t.iteration,s=t.rechargeTimeLimitOnDays,l=t.willRecharge,u=t.recharge,p=t.iterationType,d=t.applyTo,m=t.chargeType,h=t.startDate,f=t.iterationLimit;return r.a.createElement(tt,{style:{margin:"0 11rem"},path:"api/services/".concat(a),autoload:""!=a,method:""!=a?"PUT":"POST",willSubmit:function(e){return e.agreement=1*i,e},getter:function(t){var a=t.data;a.iterationType=a.iterationType||"",a.willRecharge=a.recharge>0,e.setState(a)},submitted:this.props.onSave},r.a.createElement(de,{justify:"center",alignContent:"center"},r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Servicio",type:"text",name:"service",upperCase:!0,required:!0,value:n})),r.a.createElement(me,{xs:12},r.a.createElement(Lt,{title:"Tipo de cobro",required:!0,name:"chargeType",value:m,onChange:function(t){e.setState({chargeType:t.value})}},r.a.createElement("option",{value:"meters"},"Por metros"),r.a.createElement("option",{value:"unitary"},"Unitario"))),r.a.createElement(me,{xs:12},r.a.createElement(zt,{required:!0,title:"Precio ".concat("meters"==m?"por metro":"unitario"),type:"number",name:"price",value:o})),r.a.createElement(me,{xs:12},r.a.createElement(Lt,{required:!0,title:"Aplicar a",name:"applyTo",value:d,onChange:function(t){e.setState({applyTo:t.value})}},r.a.createElement("option",{value:"one"},"Terreno"),r.a.createElement("option",{value:"all"},"Todos"))),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Programar para",type:"date",name:"startDate",value:h})),r.a.createElement(me,{xs:12},r.a.createElement(Lt,{title:"\xbfRepetir?",name:"iterationType",value:p,onChange:function(t){e.setState({iterationType:t.value})}},r.a.createElement("option",{value:""},"No repetir"),r.a.createElement("option",{value:"day"},"D\xedas"),r.a.createElement("option",{value:"month"},"Meses"))),r.a.createElement(De,{conditional:""!=p},r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Repetir cada (".concat(new ge(p).get(),")"),type:"number",name:"iteration",value:c})),r.a.createElement(me,{xs:12},r.a.createElement(ma,{title:"Veces a repetir",type:"infinite"!=f?"number":"text",value:"infinite"==f?"infinito":f,name:"iterationLimit",onBlur:function(t){var a=t.target.value;e.setState({iterationLimit:a})},onClick:function(){e.setState({iterationLimit:"infinite"})},icon:r.a.createElement(ce,{iconName:"fa-infinity"})}))),r.a.createElement(me,{xs:12},r.a.createElement(lr,{title:"Acuerdos",value:i,onChange:function(){e.setState({agreement:!i})}},"\xbfPuede generar acuerdos?")),r.a.createElement(me,{xs:12},r.a.createElement(lr,{value:l,title:"Recargos",onChange:function(){e.setState({willRecharge:!l})}},"\xbfPuede generar recargos?")),r.a.createElement(De,{conditional:l},r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Recarga (%)",name:"recharge",value:u,type:"number"})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Periodo de gracia (d\xedas)",name:"rechargeTimeLimitOnDays",value:s,type:"number"}))),r.a.createElement(ua.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit"},new ge("Save").get())))}}]),t}(n.Component);function fr(e){var t=e.onChange;return r.a.createElement(ir,{title:"Conceptos aplicables",path:"api/services",args:{applyTo:"one"},onChange:t,formatOptions:function(e){var t=e.id,a=e.service,n=e.price,r=e.startDate,o=null==r?"Inmediato":"Programado: ".concat(r);return{value:t,title:"".concat(a," (").concat(Le(n),") ").concat(o)}}})}function br(e){var t=e.houseID,a=e.onSave,o=Object(n.useState)(),i=Object(he.a)(o,2),c=i[0],s=i[1],l=Object(n.useState)(_e()),u=Object(he.a)(l,2),p=u[0],d=u[1],m=function(){var e=Object(b.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ge("api/services/link/".concat(t)),e.next=3,n.post({serviceID:c,startDate:p});case 3:He(a)({serviceID:c,startDate:p});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{justify:"center",alignContent:"center"},r.a.createElement(me,{xs:12},r.a.createElement(fr,{value:c,onChange:function(e,t){var a=(new Re).searchByKey(t,"id",e.value)[0];d(_e(a.startDate)),s(e.value)}})),r.a.createElement(me,{xs:12},r.a.createElement(zt,{title:"Inicia el",type:"date",onBlur:function(e){var t=e.target;d(t.value)},value:_e(p)})),r.a.createElement(me,{xs:12},r.a.createElement(ua.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){m()}},"Guardar"))))}function vr(e){var t=e.houseID,a=e.onSave,o=Object(m.a)(e,["houseID","onSave"]),i=Object(n.useState)(!1),c=Object(he.a)(i,2),s=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{icon:"money-bill-wave-alt",title:"A\xf1adir cargo",onClick:function(){l(!s)}}),r.a.createElement(et,{open:s},r.a.createElement(Ae,{title:"A\xf1adir cargo"},r.a.createElement(br,Object.assign({houseID:t},o,{onSave:function(){l(!s),He(a)()}})))))}var gr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={content:[],charge:{},total:0,houseID:null,houseCode:null,openPayModal:!1,charges:{},csvData:[]},a.state.houseID=e.match.params.id,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadContent",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,o,i,c,s=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.state.houseID)){e.next=4;break}return this.setState({openPayModal:!1}),e.abrupt("return",!1);case 4:return a=new Ge("api/charge"),e.next=7,a.get({houseID:t});case 7:n=e.sent.data,o=n,i=Ka(n),c=i.total,n=n.map((function(e){return[e.id,e.paymentDate,e.import,new ge(e.type).get(),e.nextRecharge||"Sin intereses",r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{conditional:-1!=e.agreement},r.a.createElement(lr,{key:e.id+"chck",title:"Convenio",value:1===e.agreement,onChange:function(){if(-1==e.agreement)return!1;new Ge("api/charge/".concat(e.id)).put({agreement:1*(0==e.agreement)}).then((function(){s.loadContent()}))}})),r.a.createElement(De,{conditional:"payment"!=e.type},r.a.createElement(Te,{icon:"trash",style:{color:"red"},size:"14px",title:"Eliminar",onClick:function(){new Ge("api/charge/".concat(e.id)).delete({type:e.type}).then((function(){s.loadContent()}))}})))]})),this.setState({content:n,chargeID:0,openPayModal:!1,total:c,charges:i,csvData:o});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadHouse",value:function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===a&&null!==t){e.next=2;break}return e.abrupt("return",!1);case 2:return n=new Ge("api/houses/".concat(t)),e.next=5,n.get();case 5:r=e.sent.data,this.setState({houseCode:r.code});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadHouse(this.state.houseID,this.state.houseCode),this.loadContent()}},{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.openPayModal,o=t.total,i=t.houseID,c=t.houseCode,s=t.csvData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma,{onClick:function(){new Ge("api/charge/".concat(i,"/unpaid")).post().then((function(){e.loadContent()}))}},"Demo: Generar Recargo"),r.a.createElement(De,{conditional:!i},r.a.createElement(Ae,{title:"Terrenos",subtitle:"Seleccione el terreno con el cual trabajar."},r.a.createElement(me,{xs:12},r.a.createElement(pr,{onChange:function(){var t=Object(b.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.history.push("/cuenta/".concat(a.id)),t.next=3,e.setState({houseID:a.id,houseCode:a.code});case 3:e.loadContent();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),r.a.createElement(De,{conditional:i},r.a.createElement(Fa,{title:"Lista de Cargos de "+c,subtitle:o>0?"Deuda total: ".concat(Le(o)):"Saldo a favor ".concat(Le(o)),titles:["ID","Fecha","Tarifa","Tipo","Pronto pago","Acciones"],prev:r.a.createElement(r.a.Fragment,null,r.a.createElement(mr,{title:"Imprimir nota de remision",url:"/templates/charges/".concat(i)}),r.a.createElement(dr,{fileName:"Lista de Cargos de "+c,content:s.map((function(e){return[e.id,e.paymentDate,e.import,new ge(e.type).get()]})),titles:["ID","Fecha","Tarifa","Tipo"]}),r.a.createElement(vr,{houseID:i,onSave:function(){e.loadContent()}})),content:a},r.a.createElement(Ma,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.setState({openPayModal:!0})}},r.a.createElement("h4",null,o>0?"El terreno tiene un adeudo de: ".concat(Le(o)):"Abonar")))),r.a.createElement(et,{open:n},r.a.createElement(ur,{id:i,total:o,onChange:function(){e.loadContent()}})))}}]),t}(n.Component);a(5605);function yr(e){var t=e.id,a=e.onDataLoad,o=e.onPaymentChange,i=Object(n.useState)([]),c=Object(he.a)(i,2),s=c[0],l=c[1],u=function(){var e=Object(b.a)(f.a.mark((function e(){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ge("api/charge/".concat(t,"/persons")),e.next=3,n.get();case 3:r=e.sent,l(r.data),He(a)(r.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),r.a.createElement("div",{className:"housesGrid"},r.a.createElement(Kn,{items:s,titleKey:"code",itemsByLine:3,modifier:function(e,t){return r.a.createElement(Or,{item:e,onClick:function(t){return Za(e.id,t).then((function(){return u()})),He(o)(t),""}})}}))}function Or(e){var t=e.item,a=e.onClick,o=Object(n.useState)("0.0"),i=Object(he.a)(o,2),c=i[0],s=i[1],l=Ka(t.charges).total;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(De,{conditional:parseFloat(l).toFixed(3)>0,or:r.a.createElement("h3",null,"Saldo: ",Le(l))},r.a.createElement(Ma,{color:"primary",onClick:function(){s(l)}},"Deuda: ",Le(l)))),r.a.createElement("li",null,r.a.createElement("p",null,t.areaM2," metros cuadrados")),r.a.createElement("li",null,r.a.createElement(Mn.a,{to:"/residentes/".concat(t.zone,"-").concat(t.houseNumber)},r.a.createElement(Te,{icon:"home",title:"Detalles"})),r.a.createElement(Mn.a,{to:"/cuenta/".concat(t.id)},r.a.createElement(Te,{title:"Cargos",icon:"dollar-sign"})),r.a.createElement(mr,{title:"Imprimir nota de remision",url:"/templates/charges/".concat(t.id)}),r.a.createElement(dr,{fileName:"Lista de Cargos de ".concat(t.zone,"-").concat(t.houseNumber),content:t.charges.map((function(e){return[e.id,e.paymentDate,e.import,new ge(e.type).get()]})),titles:["ID","Fecha","Tarifa","Tipo"]}),r.a.createElement(vr,{houseID:t.id})),r.a.createElement("li",null,r.a.createElement(ma,{type:"number",onClick:function(e){s("0.0"),a(e)},title:"Pagar",value:c,icon:r.a.createElement(ce,{iconName:"fa-save"})}))))}var xr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={debt:0,balance:0,payments:0,unrecognized:null,useUnrecognized:!1},a.state.userID=e.match.params.id||!1,a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.debt,n=t.balance,o=t.payments,i=t.unrecognized,c=t.userID,s=t.useUnrecognized,l=n-o,u=a>0?"una deuda":"un saldo a favor";return r.a.createElement(Ae,{subtitle:" ",title:"Cargos por Persona"},r.a.createElement(me,{xs:12},r.a.createElement(De,{conditional:c,or:r.a.createElement(Hn,{type:"house",onChange:function(t){e.props.history.push("".concat(t.value)),e.setState({userID:t.value})}})},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Tiene ".concat(u," por un total de :")," ",Le(a)),r.a.createElement(lr,{title:"Pagos no reconocidos",onChange:function(){e.setState({useUnrecognized:!s})}},"Usar pagos no reconocidos"),r.a.createElement(De,{conditional:s},r.a.createElement(cr,{onChange:function(t){var a=t.amount-(t.balance||0);e.setState({balance:a,unrecognized:t})}})),r.a.createElement("h4",null,l>=0?"Saldo disponible:":"Limite superado por: "," ",Le(l)),r.a.createElement(yr,{id:c,onDataLoad:function(t){var a=0,n=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){a+=Ka(i.value.charges).total}}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}e.setState({debt:a})},onPaymentChange:function(t){if(null==i)return!1;var a=tn(i.id,{amount:i.amount,balance:i.balance,payments:t});e.setState({balance:a})}})))))}}]),t}(n.Component),Er=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={content:[],isOpen:!1,total:0},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"loadPayments",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,a=new Ge("api/payments/unrecognized"),e.next=4,a.get();case 4:n=(n=e.sent.data).map((function(e){return t+=parseFloat(e.amount)-parseFloat(e.balance),[e.bank,e.bankCode,e.amount,e.balance,Ue(e.registerDate)]})),this.setState({content:n,isOpen:!1,total:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadPayments()}},{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.isOpen,o=t.total;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fa,{inModal:r.a.createElement(sr,{onSubmission:function(){e.loadPayments()}}),modalOpen:n,onClose:function(){e.loadPayments()},title:"Pagos no reconocidos",subtitle:"Hay ".concat(Le(o)," en concepto de pagos no reconocido sin utilizar"),titles:["Banco","Identificador","Monto","Balance","Fecha"],content:a}))}}]),t}(n.Component),jr=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",open:!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.open;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fn,{title:"Lista de servicios",subtitle:"Lista general de los servicios y precios a cobrar",inModal:r.a.createElement(hr,{id:a,onSave:function(){e.setState({id:"",open:!1})}}),path:"api/services",modalOpen:n,onClose:function(){e.setState({id:"",open:!1})},titles:{service:"Servicio",price:"Precio",chargeType:"Tipo",applyTo:"Cobro a",iteration:"Cada",iterationLimit:"Repetir",startDate:"Inicia el",actions:"Acciones"},formatContent:function(t){var a=t.iteration+" "+new ge(t.iterationType).get();a=0==t.iteration?"No repite":a;var n="infinite"!=t.iterationLimit?t.iterationLimit-t.iterationsUsed+" veces":"Infinito";return[t.service,Le(t.price),new ge(t.chargeType).get(),new ge(t.applyTo).get(),a,n,Ue(t.startDate),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{icon:"edit",title:"modificar servicio",onClick:function(){e.setState({id:t.id,open:!0})}}))]}}))}}]),t}(n.Component),wr=function e(){var t=this;Object(v.a)(this,e),this.get=function(){var e=new Ve,a=e.getToken();return a?(a=a.permissions,t.routes.filter((function(t){var a=!1;if("undefined"===typeof t.permissions)return!0;for(var n in t.permissions)a=e.hasPermission(t.permissions[n]);return a}))):[]},this.routes=[{redirect:!0,path:"/",to:"/dashboard",navbarName:"Redirect"},{path:"/dashboard",sidebarName:"Inicio",navbarName:"Inicio",icon:be.a,component:Aa},{parent:!0,sidebarName:"Usuarios",navbarName:"Usuarios",icon:"users",permissions:["Usuarios"]},{path:"/sandbox2",childOf:"demo",sidebarName:"SandboxAnd",navbarName:"SandboxAnd",icon:"user-cog",permissions:["Usuarios","Accesos"],component:Cn},{path:"/sandbox/:id?",childOf:"demo",sidebarName:"Sandbox",navbarName:"Sandbox",icon:"user-cog",permissions:["Usuarios"],component:xn},{path:"/personas/:types?",sidebarName:"Personas",childOf:"Usuarios",navbarName:"Personas",icon:"users",permissions:["Usuarios","Accesos"],component:zn},{path:"/personas/propietario",sidebarName:"Propietario",navbarName:"Propietario",childOf:"Usuarios",icon:"home",permissions:["Usuarios","Accesos"]},{path:"/personas/residente",sidebarName:"Residente",navbarName:"Residente",childOf:"Usuarios",icon:"home",permissions:["Usuarios","Accesos"]},{path:"/personas/proveedor",sidebarName:"Proveedor",navbarName:"Proveedor",childOf:"Usuarios",icon:"building",permissions:["Usuarios","Accesos"]},{path:"/personas/empleado",sidebarName:"Empleados",navbarName:"Empleados",childOf:"Usuarios",icon:"user-tie",permissions:["Usuarios","Accesos"]},{path:"/perfiles",sidebarName:"Perfiles",navbarName:"Perfiles",childOf:"Configuraci\xf3n",icon:"address-book",permissions:["Usuarios"],component:Pn},{path:"/accesos/:door?",childOf:"Seguridad",sidebarName:"Accesos",navbarName:"Accesos",icon:"car",permissions:["Accesos"],component:hn},{path:"/historial/accesos",childOf:"Seguridad",sidebarName:"Registro",navbarName:"Registro",icon:"clock",permissions:["Accesos"],component:ar},{path:"/casas",sidebarName:"Casas",navbarName:"Casas",childOf:"Terrenos",icon:"home",permissions:["Usuarios"],component:Un},{path:"/domicilios",sidebarName:"Domicilios",navbarName:"Domicilios",childOf:"Terrenos",icon:"map-marked",permissions:["Usuarios"],component:nr},{parent:!0,sidebarName:"Terrenos",navbarName:"Terrenos",icon:"landmark",permissions:["Usuarios"]},{path:"/residentes/:id",hidden:!0,sidebarName:"Residentes",navbarName:"Residentes",icon:"landmark",permissions:["Usuarios"],component:$n},{path:"/puertas",sidebarName:"Puertas",navbarName:"Puertas",childOf:"Configuraci\xf3n",icon:"dungeon",permissions:["Usuarios"],component:on},{path:"/dispositivos",sidebarName:"Dispositivos",navbarName:"Dispositivos",childOf:"Configuraci\xf3n",icon:"microchip",permissions:["Usuarios"],component:Vn},{path:"/bitacora",sidebarName:"Bitacora",navbarName:"Bitacora",childOf:"Configuraci\xf3n",icon:"clipboard-list",permissions:["Usuarios"],component:Gn},{parent:!0,sidebarName:"Seguridad",navbarName:"Seguridad",icon:"shield-alt",permissions:["Usuarios","Accesos"]},{parent:!0,sidebarName:"Configuraci\xf3n",navbarName:"Configuraci\xf3n",icon:"cog",permissions:["Usuarios"]},{parent:!0,sidebarName:"Finanzas",navbarName:"Finanzas",icon:"chart-line",permissions:["Usuarios"]},{path:"/cuenta/:id?",childOf:"Finanzas",sidebarName:"Finca",navbarName:"Finca",icon:"home",permissions:["Usuarios"],component:gr},{path:"/finanzas",sidebarName:"Contaduria",navbarName:"Contaduria",childOf:"Finanzas",icon:"money-bill",permissions:["Usuarios"],component:er},{path:"/cargos/persona/:id?",sidebarName:"Persona",navbarName:"Persona",childOf:"Finanzas",icon:"users",permissions:["Usuarios"],component:xr},{path:"/pagos/no_reconocidos",sidebarName:"No reconocidos",navbarName:"No reconocidos",childOf:"Finanzas",icon:"question-circle",permissions:["Usuarios"],component:Er},{path:"/servicios",sidebarName:"Servicios",navbarName:"Servicios",childOf:"Finanzas",icon:"calendar",permissions:["Usuarios"],component:jr},{parent:!0,sidebarName:"demo",navbarName:"demo",icon:"user-tie",permissions:["Usuarios"]}]};a(5606);function kr(){var e=Object(n.useState)(!1),t=Object(he.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(""),c=Object(he.a)(i,2),s=c[0],l=c[1],u=(new wr).get(),p=new Re;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ma,{title:"Buscar",onClick:function(e){return o(!a),l(e),e},icon:r.a.createElement(ce,{iconName:"fa-search"}),value:s}),r.a.createElement(et,{open:a,onClose:function(){o(!a)}},r.a.createElement(de,null,r.a.createElement((function(e){var t=e.menu,a=e.search;return p.searchInObject(t,a).map((function(e,t){return"undefined"===typeof e.path?null:(e.path=e.path.replace(/:[a-z]+/g,""),r.a.createElement(me,{xs:12,sm:4,key:t},r.a.createElement(Mn.a,{to:e.path},r.a.createElement("div",{className:"searchMenu"},r.a.createElement("div",{className:"icon"},r.a.createElement(ce,{iconName:"fa-".concat(e.icon)})),r.a.createElement("div",{className:"name",style:{color:"white"}},e.sidebarName)))))}))}),{menu:u,search:s}))))}var Sr=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState((function(e){return{open:!e.open}}))},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"customHeader"},r.a.createElement(de,null,r.a.createElement(me,{xs:12,md:8},r.a.createElement(kr,null)),r.a.createElement(me,{xs:12,md:3,style:{textAlign:"center"}},r.a.createElement(le.a,{title:"Salir"},r.a.createElement(z.a,{style:{marginTop:"2.2rem"},onClick:function(){localStorage.removeItem(btoa("token"))}},r.a.createElement(ce,{iconName:"fa-sign-out-alt",style:{color:"#007777"}}))))))}}]),t}(r.a.Component),Cr=k()(ie)(Sr);function Pr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pr(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nr=function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:"#555555",border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Dr({},W,{minHeight:"50px"}),flex:{flex:1},title:Dr({},$,{lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Dr({backgroundColor:"#007733",color:"#FFFFFF"},Z),info:Dr({backgroundColor:"#00acc1",color:"#FFFFFF"},Z),success:Dr({backgroundColor:"#4caf50",color:"#FFFFFF"},Z),warning:Dr({backgroundColor:"#ff9800",color:"#FFFFFF"},Z),danger:Dr({backgroundColor:"#f44336",color:"#FFFFFF"},Z)}};var Ir=k()(Nr)((function(e){var t=Object(C.a)({},e),a=t.classes,n=t.color,o=D()(Object(S.a)({}," "+a[n],n));return r.a.createElement(I.a,{className:a.appBar+o},r.a.createElement(T.a,{className:a.container},r.a.createElement("div",{className:a.flex}),r.a.createElement(H.a,{smDown:!0,implementation:"css"},r.a.createElement(Cr,null)),r.a.createElement(H.a,{mdUp:!0,implementation:"css"},r.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:t.handleDrawerToggle},r.a.createElement(M.a,null)))))}));function Fr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fr(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ar={block:Tr({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},$,{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:Tr({bottom:"0",borderTop:"1px solid #e7e7e7",padding:"15px 0"},$),container:W,a:{color:"#007733",textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}};var zr=k()(Ar)((function(e){var t=Object(C.a)({},e).classes;return r.a.createElement("footer",{className:t.footer},r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.left}),r.a.createElement("p",{className:t.right},r.a.createElement("span",null,"\xa9 ",1900+(new Date).getYear()," ",r.a.createElement("a",{href:"https://www.web-gdl.com",className:t.a},"Web-gdl")),r.a.createElement("span",{style:{marginLeft:"2em"}},"\xdaltima modificaci\xf3n: ",document.lastModified))))})),Rr=a(67),Hr=a.n(Rr);function Lr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lr(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Br=function(e){var t;return{drawerPaper:Mr({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},q,(t={width:260},Object(S.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(S.a)(t,e.breakpoints.down("sm"),Mr({width:260},q,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},_)),t)),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba(180, 180, 180, 0.3)"}},logoLink:Mr({},$,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#444"}}),logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFFFFF"}},itemLink:Mr({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},$),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"#007777!important"},itemText:Mr({},$,{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#444"}),whiteFont:{color:"#444"},purple:Mr({backgroundColor:"#007733"},V,{"&:hover":Mr({backgroundColor:"#007733"},V)}),blue:{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)","&:hover":{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)"}},green:{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)","&:hover":{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)"}},orange:{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)","&:hover":{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)"}},red:{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)","&:hover":{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(S.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},Ur=a(80),_r=a.n(Ur),Wr=a(94),qr=a.n(Wr),$r=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={openMenu:""},a.render=function(){var e=a.props,t=e.classes,n=e.routes.filter((function(e){return null==e.childOf}));return r.a.createElement(na.a,{className:t.list},a.printMenu(n))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"printList",value:function(e){var t,a=this,n=e.prop,o=e.key,i=this.props,c=i.activeRoute,s=i.color,l=i.classes,u=this.state.openMenu;t=D()(Object(S.a)({}," "+l[s],c(n.path)));var p=D()(Object(S.a)({}," "+l.whiteFont,c(n.path))),d=u==n.sidebarName,m=d?"fa-chevron-up":"fa-chevron-down";return r.a.createElement(_r.a,{key:o,button:!0,className:l.itemLink+t,onClick:function(){a.setState({openMenu:d?"":n.sidebarName})}},r.a.createElement(qr.a,{className:l.itemIcon+p},"string"===typeof n.icon?r.a.createElement(ce,{iconName:"fa-".concat(n.icon)}):r.a.createElement(n.icon,null)),r.a.createElement(de,null,r.a.createElement(me,{xs:8},r.a.createElement("span",{className:l.itemText+p},n.sidebarName)),n.parent?r.a.createElement(me,{xs:1},r.a.createElement(ce,{iconName:m})):""),n.parent&&d?this.loadChilds(n.sidebarName):"")}},{key:"loadChilds",value:function(e){var t=this.props.routes.filter((function(t){return t.childOf==e}));return this.printMenu(t)}},{key:"printMenu",value:function(e){var t=this,a=this.props.classes;return e.map((function(e,n){if(e.redirect)return null;if(e.hidden)return null;e.path||(e.path="/");var o=e.path.replace(/:[a-z]+/g,"");return e.parent?t.printList({prop:e,key:n}):r.a.createElement(Mn.a,{to:o,className:" "+a.item,activeClassName:"active",key:n},t.printList({prop:e,key:n}))}))}}]),t}(n.Component);a(5615);function Vr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vr(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jr=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).render=function(){var e=a.state,t=e.photo,n=e.fullname,o=e.type,i=e.open,c=a.props.style;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{title:n},r.a.createElement("div",{style:Gr({height:"10rem",padding:"10px 0px",overflow:"hidden",cursor:"pointer",display:"block",margin:"auto",textAlign:"center",zIndex:2},c),onClick:function(){a.setState({open:!0})}},r.a.createElement(ia,{src:t,style:{width:"80px",height:"80px",borderRadius:"100%",boxShadow:"inset 1px 1px 3px #007777",margin:"auto"}}),r.a.createElement("div",null,r.a.createElement("i",null,n)),r.a.createElement("div",null,r.a.createElement("i",null,o)))),r.a.createElement(et,{open:i,onClose:function(){a.setState({open:!1})},styles:{width:"60vw"}},r.a.createElement(da,null)))},a.state={fullname:"",photo:"",open:!1},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"loadUser",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ve,a=t.getToken().personID,n=new Ge("/api/persons/".concat(a)),e.next=5,n.get();case 5:r=e.sent,this.setState(r.data);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component),Qr=k()(Br)((function(e){var t=Object(C.a)({},e);var a=t.classes,n=t.logo,o=t.logoText,i=t.routes,c=r.a.createElement($r,{routes:i,classes:a,activeRoute:function(e){return t.location.pathname.indexOf(e)>-1}}),s=r.a.createElement("div",{className:a.logo},r.a.createElement("a",{href:"/",className:a.logoLink},r.a.createElement("div",{className:a.logoImage},r.a.createElement("img",{src:n,alt:"logo",className:a.img})),o));return r.a.createElement("div",null,r.a.createElement(H.a,{mdUp:!0,implementation:"css"},r.a.createElement(Hr.a,{variant:"temporary",anchor:"right",open:t.open,classes:{paper:a.drawerPaper+" roundSidebarLeft"},onClose:t.handleDrawerToggle,ModalProps:{keepMounted:!0}},s,r.a.createElement(Jr,null),r.a.createElement("div",{className:a.sidebarWrapper},r.a.createElement(Cr,null),c))),r.a.createElement(H.a,{smDown:!0,implementation:"css"},r.a.createElement(Hr.a,{anchor:"left",variant:"permanent",open:!0,classes:{paper:a.drawerPaper+" roundSidebar"}},s,r.a.createElement(Jr,null),r.a.createElement("div",{className:a.sidebarWrapper},c))))}));function Xr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xr(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Kr=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},pallete:{primary:"#007733"},mainPanel:Yr((t={},Object(S.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(S.a)(t,"overflow","auto"),Object(S.a)(t,"position","relative"),Object(S.a)(t,"float","right"),t),_,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:W,map:{marginTop:"70px"}}},Zr=a(169),eo=a.n(Zr),to=a(99),ao=a.n(to),no=a(95),ro=a.n(no),oo=a(51),io=a.n(oo),co=a(44),so=a.n(co),lo=(a(5618),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={type:"password"},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"onSubmit",value:function(e){var t=this.props.onLogin,a=(new Ve).login(e).getToken();if("function"!==typeof t)throw new Error("on Login Props its needed");return t(a)}},{key:"render",value:function(){var e=this,t=this.state.type,a="password"===t;return r.a.createElement("div",{className:"loginBackground"},r.a.createElement("main",{className:"login"},r.a.createElement(ro.a,null),r.a.createElement(io.a,{className:"paper"},r.a.createElement(Xt.a,{className:"avatar"},r.a.createElement("img",{src:ao.a,alt:"El manantial",style:{width:"100%"}})),r.a.createElement(so.a,{style:{color:"white",textShadow:"1px 1px 1px black",textAlign:"center"},component:"h1",variant:"h5"},"El manantial"),r.a.createElement(tt,{autoload:!1,path:"/api/auth/login",method:"post",submitted:this.onSubmit.bind(this)},r.a.createElement(zt,{title:"Email",id:"email",name:"email",autoComplete:"email",autoFocus:!0,style:{color:"white"},value:""}),r.a.createElement(ma,{disableEnter:!0,icon:r.a.createElement(ce,{iconName:"fa-eye".concat(a?"":"-slash"),style:{color:"white"}}),onClick:function(t){return e.setState({type:a?"text":"password"}),t},title:"Contrase\xf1a ",name:"password",type:t,id:"password",autoComplete:"current-password",style:{color:"white"},value:""}),r.a.createElement(Te,{"aria-label":"Ingresar",type:"submit",size:"14px",icon:"sign-in-alt",className:"submit",style:{color:"white",textShadow:"1px 1px 1px black"}},"Ingresar")))))}}]),t}(r.a.Component)),uo=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleRoutes=function(){var e=(new wr).get();return r.a.createElement(l.a,null,e.map((function(e,t){return e.redirect&&a.props.location.pathname==e.path?r.a.createElement(j.a,{from:e.path,to:e.to,key:t}):e.component?r.a.createElement(u.a,{path:e.path,component:e.component,key:t}):null})))},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.state={mobileOpen:!1,logged:!1},a.resizeFunction=a.resizeFunction.bind(Object(x.a)(a)),a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"getRoute",value:function(){return"/maps"!==this.props.location.pathname}},{key:"resizeFunction",value:function(){window.innerWidth>=960&&this.setState({mobileOpen:!1})}},{key:"setLoginStatus",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Ve).isLogged()&&this.setState({logged:!0}),e.next=4,t.onLoginExpire();case 4:this.setState({logged:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setLoginStatus(),navigator.platform.indexOf("Win"),window.addEventListener("resize",this.resizeFunction)}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFunction)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(m.a)(e,["classes"]);return r.a.createElement("div",{className:t.wrapper},this.state.logged?r.a.createElement("main",null,r.a.createElement(Qr,Object.assign({routes:(new wr).get(),logoText:"El Manantial",logo:ao.a,image:eo.a,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:"black"},a)),r.a.createElement("div",{className:t.mainPanel,ref:"mainPanel"},r.a.createElement(Ir,Object.assign({routes:(new wr).get(),handleDrawerToggle:this.handleDrawerToggle},a)),this.getRoute()?r.a.createElement("div",{className:t.content+" appContainer"},r.a.createElement("div",{className:t.container},this.handleRoutes())):r.a.createElement("div",{className:t.map},this.handleRoutes()),this.getRoute()?r.a.createElement(zr,null):null)):r.a.createElement("main",null,r.a.createElement(lo,{onLogin:this.setLoginStatus.bind(this)})))}}]),t}(r.a.Component),po=[{path:"/",component:k()(Kr)(uo)}],mo=Object(c.a)();i.a.render(r.a.createElement(s.a,{history:mo},r.a.createElement(l.a,null,po.map((function(e,t){return r.a.createElement(u.a,{path:e.path,component:e.component,key:t})})))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");p?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}()},96:function(e,t,a){e.exports=a.p+"static/media/validAccess.61d3e43c.mp3"},99:function(e,t,a){e.exports=a.p+"static/media/favicon.b4102183.png"}},[[5449,1,2]]]);
//# sourceMappingURL=main.942a2e1f.chunk.js.map